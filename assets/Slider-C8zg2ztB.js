import{j as b}from"./jsx-runtime-D_zvdyIk.js";import{r as l}from"./index-0yr9KlQE.js";import{B as D,f as _e,u as je,a as Te,b as De,s as Pe,m as Ne,e as ze,l as Fe}from"./factory-DBu1aocQ.js";import{c as Ae,u as He}from"./DirectionProvider-Dl1fQI0L.js";import{T as Oe}from"./Transition-B7jYxShf.js";import{u as $e}from"./use-uncontrolled-DCQPDs6D.js";import{u as Be}from"./use-merged-ref-VFbqHomq.js";function F(t,e,n){return e===void 0&&n===void 0?t:e!==void 0&&n===void 0?Math.max(t,e):Math.min(e===void 0&&n!==void 0?t:Math.max(t,e),n)}function Ie(t,e,n="ltr"){const r=l.useRef(!1),o=l.useRef(!1),u=l.useRef(0),[M,d]=l.useState(!1),f=l.useRef(null);return l.useEffect(()=>{r.current=!0},[]),{ref:l.useCallback(s=>{if(f.current&&(f.current(),f.current=null),!s)return;const w=({x:i,y:j})=>{cancelAnimationFrame(u.current),u.current=requestAnimationFrame(()=>{if(r.current&&s){s.style.userSelect="none";const m=s.getBoundingClientRect();if(m.width&&m.height){const g=F((i-m.left)/m.width,0,1);t({x:n==="ltr"?g:1-g,y:F((j-m.top)/m.height,0,1)})}}})},p=()=>{document.addEventListener("mousemove",V),document.addEventListener("mouseup",R),document.addEventListener("touchmove",_,{passive:!1}),document.addEventListener("touchend",R)},A=()=>{document.removeEventListener("mousemove",V),document.removeEventListener("mouseup",R),document.removeEventListener("touchmove",_),document.removeEventListener("touchend",R)},C=()=>{!o.current&&r.current&&(o.current=!0,typeof(e==null?void 0:e.onScrubStart)=="function"&&e.onScrubStart(),d(!0),p())},R=()=>{o.current&&r.current&&(o.current=!1,d(!1),A(),setTimeout(()=>{typeof(e==null?void 0:e.onScrubEnd)=="function"&&e.onScrubEnd()},0))},a=i=>{C(),i.preventDefault(),V(i)},V=i=>w({x:i.clientX,y:i.clientY}),L=i=>{i.cancelable&&i.preventDefault(),C(),_(i)},_=i=>{i.cancelable&&i.preventDefault(),w({x:i.changedTouches[0].clientX,y:i.changedTouches[0].clientY})};s.addEventListener("mousedown",a),s.addEventListener("touchstart",L,{passive:!1}),f.current=()=>{s.removeEventListener("mousedown",a),s.removeEventListener("touchstart",L)}},[n,t]),active:M}}function ne(t,e){return e.length===0?t:e.reduce((n,r)=>Math.abs(r-t)<Math.abs(n-t)?r:n)}const[Ke,X]=Ae("SliderProvider was not found in tree"),oe=l.forwardRef(({size:t,disabled:e,variant:n,color:r,thumbSize:o,radius:u,...M},d)=>{const{getStyles:f}=X();return b.jsx(D,{tabIndex:-1,variant:n,size:t,ref:d,...f("root"),...M})});oe.displayName="@mantine/core/SliderRoot";const se=l.forwardRef(({max:t,min:e,value:n,position:r,label:o,dragging:u,onMouseDown:M,onKeyDownCapture:d,labelTransitionProps:f,labelAlwaysOn:c,thumbLabel:s,onFocus:w,onBlur:p,showLabelOnHover:A,isHovered:C,children:R=null,disabled:a},V)=>{const{getStyles:L}=X(),[_,i]=l.useState(!1),j=c||u||_||A&&C;return b.jsxs(D,{tabIndex:0,role:"slider","aria-label":s,"aria-valuemax":t,"aria-valuemin":e,"aria-valuenow":n,ref:V,__vars:{"--slider-thumb-offset":`${r}%`},...L("thumb",{focusable:!0}),mod:{dragging:u,disabled:a},onFocus:m=>{i(!0),typeof w=="function"&&w(m)},onBlur:m=>{i(!1),typeof p=="function"&&p(m)},onTouchStart:M,onMouseDown:M,onKeyDownCapture:d,onClick:m=>m.stopPropagation(),children:[R,b.jsx(Oe,{mounted:o!=null&&!!j,transition:"fade",duration:0,...f,children:m=>b.jsx("div",{...L("label",{style:m}),children:o})})]})});se.displayName="@mantine/core/SliderThumb";function ue({value:t,min:e,max:n}){const r=(t-e)/(n-e)*100;return Math.min(Math.max(r,0),100)}function Ue({mark:t,offset:e,value:n,inverted:r=!1}){return r?typeof e=="number"&&t.value<=e||t.value>=n:typeof e=="number"?t.value>=e&&t.value<=n:t.value<=n}function ce({marks:t,min:e,max:n,disabled:r,value:o,offset:u,inverted:M}){const{getStyles:d}=X();if(!t)return null;const f=t.map((c,s)=>l.createElement(D,{...d("markWrapper"),__vars:{"--mark-offset":`${ue({value:c.value,min:e,max:n})}%`},key:s},b.jsx(D,{...d("mark"),mod:{filled:Ue({mark:c,value:o,offset:u,inverted:M}),disabled:r}}),c.label&&b.jsx("div",{...d("markLabel"),children:c.label})));return b.jsx("div",{children:f})}ce.displayName="@mantine/core/SliderMarks";function ie({filled:t,children:e,offset:n,disabled:r,marksOffset:o,inverted:u,containerProps:M,...d}){const{getStyles:f}=X();return b.jsx(D,{...f("trackContainer"),mod:{disabled:r},...M,children:b.jsxs(D,{...f("track"),mod:{inverted:u,disabled:r},children:[b.jsx(D,{mod:{inverted:u,disabled:r},__vars:{"--slider-bar-width":`calc(${t}% + 2 * var(--slider-size))`,"--slider-bar-offset":`calc(${n}% - var(--slider-size))`},...f("bar")}),e,b.jsx(ce,{...d,offset:o,disabled:r,inverted:u})]})})}ie.displayName="@mantine/core/SliderTrack";function Xe({value:t,containerWidth:e,min:n,max:r,step:o,precision:u}){const d=(e?Math.min(Math.max(t,0),e)/e:t)*(r-n),f=(d!==0?Math.round(d/o)*o:0)+n,c=Math.max(f,n);return u!==void 0?Number(c.toFixed(u)):c}function U(t,e){return parseFloat(t.toFixed(e))}function Ye(t){if(!t)return 0;const e=t.toString().split(".");return e.length>1?e[1].length:0}function q(t,e){const r=[...e].sort((o,u)=>o.value-u.value).find(o=>o.value>t);return r?r.value:t}function W(t,e){const r=[...e].sort((o,u)=>u.value-o.value).find(o=>o.value<t);return r?r.value:t}function re(t){const e=[...t].sort((n,r)=>n.value-r.value);return e.length>0?e[0].value:0}function ae(t){const e=[...t].sort((n,r)=>n.value-r.value);return e.length>0?e[e.length-1].value:100}var le={root:"m_dd36362e",label:"m_c9357328",thumb:"m_c9a9a60a",trackContainer:"m_a8645c2",track:"m_c9ade57f",bar:"m_38aeed47",markWrapper:"m_b7b0423a",mark:"m_dd33bc19",markLabel:"m_68c77a5b"};const qe={radius:"xl",min:0,max:100,step:1,marks:[],label:t=>t,labelTransitionProps:{transition:"fade",duration:0},thumbLabel:"",showLabelOnHover:!0,scale:t=>t,size:"md"},We=De((t,{size:e,color:n,thumbSize:r,radius:o})=>({root:{"--slider-size":Fe(e,"slider-size"),"--slider-color":n?ze(n,t):void 0,"--slider-radius":o===void 0?void 0:Ne(o),"--slider-thumb-size":r!==void 0?Pe(r):"calc(var(--slider-size) * 2)"}})),de=_e((t,e)=>{const n=je("Slider",qe,t),{classNames:r,styles:o,value:u,onChange:M,onChangeEnd:d,size:f,min:c,max:s,domain:w,step:p,precision:A,defaultValue:C,name:R,marks:a,label:V,labelTransitionProps:L,labelAlwaysOn:_,thumbLabel:i,showLabelOnHover:j,thumbChildren:m,disabled:g,unstyled:fe,scale:me,inverted:ve,className:be,style:he,vars:pe,hiddenInputProps:xe,restrictToMarks:E,thumbProps:Me,attributes:ge,...Se}=n,ke=Te({name:"Slider",props:n,classes:le,classNames:r,className:be,styles:o,style:he,attributes:ge,vars:pe,varsResolver:We,unstyled:fe}),{dir:H}=He(),[ye,G]=l.useState(!1),[h,x]=$e({value:typeof u=="number"?F(u,c,s):u,defaultValue:typeof C=="number"?F(C,c,s):C,finalValue:F(0,c,s),onChange:M}),Y=l.useRef(h),O=l.useRef(d);l.useEffect(()=>{O.current=d},[d]);const J=l.useRef(null),T=l.useRef(null),[$,B]=w||[c,s],Q=ue({value:h,min:$,max:B}),I=me(h),Ee=typeof V=="function"?V(I):V,P=A??Ye(p),Ve=l.useCallback(({x:v})=>{if(!g){const N=Xe({value:v,min:$,max:B,step:p,precision:P}),z=F(N,c,s);x(E&&(a!=null&&a.length)?ne(z,a.map(K=>K.value)):z),Y.current=z}},[g,c,s,$,B,p,P,x,a,E]),Ce=l.useCallback(()=>{if(!g&&O.current){const v=E&&(a!=null&&a.length)?ne(Y.current,a.map(N=>N.value)):Y.current;O.current(v)}},[g,a,E]),{ref:Re,active:we}=Ie(Ve,{onScrubEnd:Ce},H),S=l.useCallback(v=>{!g&&O.current&&O.current(v)},[g]),Le=v=>{var N,z,K,Z,ee,te;if(!g)switch(v.key){case"ArrowUp":{if(v.preventDefault(),(N=T.current)==null||N.focus(),E&&a){const y=q(h,a);x(y),S(y);break}const k=U(Math.min(Math.max(h+p,c),s),P);x(k),S(k);break}case"ArrowRight":{if(v.preventDefault(),(z=T.current)==null||z.focus(),E&&a){const y=H==="rtl"?W(h,a):q(h,a);x(y),S(y);break}const k=U(Math.min(Math.max(H==="rtl"?h-p:h+p,c),s),P);x(k),S(k);break}case"ArrowDown":{if(v.preventDefault(),(K=T.current)==null||K.focus(),E&&a){const y=W(h,a);x(y),S(y);break}const k=U(Math.min(Math.max(h-p,c),s),P);x(k),S(k);break}case"ArrowLeft":{if(v.preventDefault(),(Z=T.current)==null||Z.focus(),E&&a){const y=H==="rtl"?q(h,a):W(h,a);x(y),S(y);break}const k=U(Math.min(Math.max(H==="rtl"?h+p:h-p,c),s),P);x(k),S(k);break}case"Home":{if(v.preventDefault(),(ee=T.current)==null||ee.focus(),E&&a){x(re(a)),S(re(a));break}x(c),S(c);break}case"End":{if(v.preventDefault(),(te=T.current)==null||te.focus(),E&&a){x(ae(a)),S(ae(a));break}x(s),S(s);break}}};return b.jsx(Ke,{value:{getStyles:ke},children:b.jsxs(oe,{...Se,ref:Be(e,J),onKeyDownCapture:Le,onMouseDownCapture:()=>{var v;return(v=J.current)==null?void 0:v.focus()},size:f,disabled:g,children:[b.jsx(ie,{inverted:ve,offset:0,filled:Q,marks:a,min:$,max:B,value:I,disabled:g,containerProps:{ref:Re,onMouseEnter:j?()=>G(!0):void 0,onMouseLeave:j?()=>G(!1):void 0},children:b.jsx(se,{max:B,min:$,value:I,position:Q,dragging:we,label:Ee,ref:T,labelTransitionProps:L,labelAlwaysOn:_,thumbLabel:i,showLabelOnHover:j,isHovered:ye,disabled:g,...Me,children:m})}),b.jsx("input",{type:"hidden",name:R,value:I,...xe})]})})});de.classes=le;de.displayName="@mantine/core/Slider";export{de as S};
