import{j as x}from"./jsx-runtime-D_zvdyIk.js";import{r as e}from"./index-DhY--VwN.js";import{n as D,v as L}from"./factory-BfzeJHej.js";import{I as j}from"./index-CE4oAmmT.js";function k(t,r){try{return t.addEventListener("change",r),()=>t.removeEventListener("change",r)}catch{return t.addListener(r),()=>t.removeListener(r)}}function A(t,r){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(t).matches:!1}function V(t,r,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[s,a]=e.useState(n?r:A(t));return e.useEffect(()=>{try{const i=window.matchMedia(t);return a(i.matches),k(i,m=>a(m.matches))}catch{return}},[t]),s||!1}function M(t,r){const n=e.useRef(!1);e.useEffect(()=>()=>{n.current=!1},[]),e.useEffect(()=>{if(n.current)return t();n.current=!0},r)}function Q(t,r){return V("(prefers-reduced-motion: reduce)",t,r)}const p=t=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${t==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),h={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...p("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...p("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...p("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...p("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...p("top"),common:{transformOrigin:"top right"}}},F={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function W({transition:t,state:r,duration:n,timingFunction:s}){const a={WebkitBackfaceVisibility:"hidden",transitionDuration:`${n}ms`,transitionTimingFunction:s};return typeof t=="string"?t in h?{transitionProperty:h[t].transitionProperty,...a,...h[t].common,...h[t][F[r]]}:{}:{transitionProperty:t.transitionProperty,...a,...t.common,...t[F[r]]}}function $({duration:t,exitDuration:r,timingFunction:n,mounted:s,onEnter:a,onExit:i,onEntered:m,onExited:P,enterDelay:u,exitDelay:y}){const T=D(),Y=Q(),l=T.respectReducedMotion?Y:!1,[O,d]=e.useState(l?0:t),[g,c]=e.useState(s?"entered":"exited"),S=e.useRef(-1),X=e.useRef(-1),b=e.useRef(-1);function R(){window.clearTimeout(S.current),window.clearTimeout(X.current),cancelAnimationFrame(b.current)}const v=o=>{R();const f=o?a:i,w=o?m:P,E=l?0:o?t:r;d(E),E===0?(typeof f=="function"&&f(),typeof w=="function"&&w(),c(o?"entered":"exited")):b.current=requestAnimationFrame(()=>{j.flushSync(()=>{c(o?"pre-entering":"pre-exiting")}),b.current=requestAnimationFrame(()=>{typeof f=="function"&&f(),c(o?"entering":"exiting"),S.current=window.setTimeout(()=>{typeof w=="function"&&w(),c(o?"entered":"exited")},E)})})},I=o=>{if(R(),typeof(o?u:y)!="number"){v(o);return}X.current=window.setTimeout(()=>{v(o)},o?u:y)};return M(()=>{I(s)},[s]),e.useEffect(()=>()=>{R()},[]),{transitionDuration:O,transitionStatus:g,transitionTimingFunction:n||"ease"}}function B({keepMounted:t,transition:r="fade",duration:n=250,exitDuration:s=n,mounted:a,children:i,timingFunction:m="ease",onExit:P,onEntered:u,onEnter:y,onExited:T,enterDelay:Y,exitDelay:l}){const O=L(),{transitionDuration:d,transitionStatus:g,transitionTimingFunction:c}=$({mounted:a,exitDuration:s,duration:n,timingFunction:m,onExit:P,onEntered:u,onEnter:y,onExited:T,enterDelay:Y,exitDelay:l});return d===0||O==="test"?a?x.jsx(x.Fragment,{children:i({})}):t?i({display:"none"}):null:g==="exited"?t?i({display:"none"}):null:x.jsx(x.Fragment,{children:i(W({transition:r,duration:d,state:g,timingFunction:c}))})}B.displayName="@mantine/core/Transition";export{B as T,M as a,Q as b,V as u};
