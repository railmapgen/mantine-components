import{j as v}from"./jsx-runtime-D_zvdyIk.js";import{r as o}from"./index-DatCARk7.js";import{q as le,s as ue,f as P,u as W,a as q,B as E,b as B,i as ce,o as de,d as fe,e as me,h as pe,c as be}from"./polymorphic-factory-CIUISfKh.js";import{F as ve}from"./Flex-Qty-xvEX.js";import{t as x,u as A,T as he}from"./Text-MJQKALvJ.js";import{r as O,u as ge}from"./use-id-DSaWsqrk.js";function ye(t,e){if(t===e)return!0;if(!(t instanceof Object)||!(e instanceof Object))return!1;const n=Object.keys(t),{length:r}=n;if(r!==Object.keys(e).length)return!1;for(let s=0;s<r;s+=1){const i=n[s];if(!(i in e)||t[i]!==e[i])return!1}return!0}function Re({value:t,defaultValue:e,finalValue:n,onChange:r=()=>{}}){const[s,i]=o.useState(e!==void 0?e:n),c=(p,...h)=>{i(p),r==null||r(p,...h)};return t!==void 0?[t,r,!0]:[s,c,!1]}function we(t,e){if(!t||!e)return!1;if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n+=1)if(!ye(t[n],e[n]))return!1;return!0}function Ce(t){const e=o.useRef([]),n=o.useRef(0);return we(e.current,t)||(e.current=t,n.current+=1),[n.current]}function Se(t,e){o.useEffect(t,Ce(e))}function _e(t,e,n={autoInvoke:!1}){const r=o.useRef(null),s=o.useCallback((...c)=>{r.current||(r.current=window.setTimeout(()=>{t(c),r.current=null},e))},[e]),i=o.useCallback(()=>{r.current&&(window.clearTimeout(r.current),r.current=null)},[]);return o.useEffect(()=>(n.autoInvoke&&s(),i),[i,s]),{start:s,clear:i}}function xe(t,e,n){const r=o.useRef(null),s=o.useRef(null);return o.useEffect(()=>{const i=typeof n=="function"?n():n;return(i||s.current)&&(r.current=new MutationObserver(t),r.current.observe(i||s.current,e)),()=>{var c;(c=r.current)==null||c.disconnect()}},[t,e]),s}function Ee(){const[t,e]=o.useState(!1);return o.useEffect(()=>e(!0),[]),t}var Te={};function Ie(){return typeof process<"u"&&Te?"production":"development"}function U({color:t,theme:e,autoContrast:n}){return(typeof n=="boolean"?n:e.autoContrast)&&le({color:t||e.primaryColor,theme:e}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function Ke(t,e){return U({color:t.colors[t.primaryColor][ue(t,e)],theme:t,autoContrast:null})}function $e(t,e){if(!e||!t)return!1;let n=e.parentNode;for(;n!=null;){if(n===t)return!0;n=n.parentNode}return!1}function je({target:t,parent:e,ref:n,displayAfterTransitionEnd:r}){const s=o.useRef(-1),[i,c]=o.useState(!1),[p,h]=o.useState(typeof r=="boolean"?r:!1),d=()=>{if(!t||!e||!n.current)return;const l=t.getBoundingClientRect(),u=e.getBoundingClientRect(),m=window.getComputedStyle(t),b=window.getComputedStyle(e),S=x(m.borderTopWidth)+x(b.borderTopWidth),w=x(m.borderLeftWidth)+x(b.borderLeftWidth),y={top:l.top-u.top-S,left:l.left-u.left-w,width:l.width,height:l.height};n.current.style.transform=`translateY(${y.top}px) translateX(${y.left}px)`,n.current.style.width=`${y.width}px`,n.current.style.height=`${y.height}px`},f=()=>{window.clearTimeout(s.current),n.current&&(n.current.style.transitionDuration="0ms"),d(),s.current=window.setTimeout(()=>{n.current&&(n.current.style.transitionDuration="")},30)},R=o.useRef(null),g=o.useRef(null);return o.useEffect(()=>{if(d(),t)return R.current=new ResizeObserver(f),R.current.observe(t),e&&(g.current=new ResizeObserver(f),g.current.observe(e)),()=>{var l,u;(l=R.current)==null||l.disconnect(),(u=g.current)==null||u.disconnect()}},[e,t]),o.useEffect(()=>{if(e){const l=u=>{$e(u.target,e)&&(f(),h(!1))};return e.addEventListener("transitionend",l),()=>{e.removeEventListener("transitionend",l)}}},[e]),_e(()=>{Ie()!=="test"&&c(!0)},20,{autoInvoke:!0}),xe(l=>{l.forEach(u=>{u.type==="attributes"&&u.attributeName==="dir"&&f()})},{attributes:!0,attributeFilter:["dir"]},()=>document.documentElement),{initialized:i,hidden:p}}var D={root:"m_96b553a6"};const ke={},ze=B((t,{transitionDuration:e})=>({root:{"--transition-duration":typeof e=="number"?`${e}ms`:e}})),j=P((t,e)=>{const n=W("FloatingIndicator",ke,t),{classNames:r,className:s,style:i,styles:c,unstyled:p,vars:h,target:d,parent:f,transitionDuration:R,mod:g,displayAfterTransitionEnd:l,...u}=n,m=q({name:"FloatingIndicator",classes:D,props:n,className:s,style:i,classNames:r,styles:c,unstyled:p,vars:h,varsResolver:ze}),b=o.useRef(null),{initialized:S,hidden:w}=je({target:d,parent:f,ref:b,displayAfterTransitionEnd:l}),y=A(e,b);return!d||!f?null:v.jsx(E,{ref:y,mod:[{initialized:S,hidden:w},g],...m("root"),...u})});j.displayName="@mantine/core/FloatingIndicator";j.classes=D;var H={root:"m_cf365364",indicator:"m_9e182ccd",label:"m_1738fcb2",input:"m_1714d588",control:"m_69686b9b",innerLabel:"m_78882f40"};const Le={withItemsBorders:!0},Me=B((t,{radius:e,color:n,transitionDuration:r,size:s,transitionTimingFunction:i})=>({root:{"--sc-radius":e===void 0?void 0:pe(e),"--sc-color":n?me(n,t):void 0,"--sc-shadow":n?void 0:"var(--mantine-shadow-xs)","--sc-transition-duration":r===void 0?void 0:`${r}ms`,"--sc-transition-timing-function":i,"--sc-padding":fe(s,"sc-padding"),"--sc-font-size":de(s)}})),k=P((t,e)=>{var N,F;const n=W("SegmentedControl",Le,t),{classNames:r,className:s,style:i,styles:c,unstyled:p,vars:h,data:d,value:f,defaultValue:R,onChange:g,size:l,name:u,disabled:m,readOnly:b,fullWidth:S,orientation:w,radius:y,color:z,transitionDuration:Pe,transitionTimingFunction:We,variant:X,autoContrast:Y,withItemsBorders:G,mod:J,...Q}=n,C=q({name:"SegmentedControl",props:n,classes:H,className:s,style:i,classNames:r,styles:c,unstyled:p,vars:h,varsResolver:Me}),L=ce(),M=d.map(a=>typeof a=="string"?{label:a,value:a}:a),Z=Ee(),[V,ee]=o.useState(O()),[te,ne]=o.useState(null),[T,re]=o.useState({}),oe=(a,$)=>{T[$]=a,re(T)},[_,se]=Re({value:f,defaultValue:R,finalValue:Array.isArray(d)?((N=M.find(a=>!a.disabled))==null?void 0:N.value)??((F=d[0])==null?void 0:F.value)??null:null,onChange:g}),I=ge(u),ae=M.map(a=>o.createElement(E,{...C("control"),mod:{active:_===a.value,orientation:w},key:a.value},o.createElement("input",{...C("input"),disabled:m||a.disabled,type:"radio",name:I,value:a.value,id:`${I}-${a.value}`,checked:_===a.value,onChange:()=>!b&&se(a.value),"data-focus-ring":L.focusRing,key:`${a.value}-input`}),o.createElement(E,{component:"label",...C("label"),mod:{active:_===a.value&&!(m||a.disabled),disabled:m||a.disabled,"read-only":b},htmlFor:`${I}-${a.value}`,ref:$=>oe($,a.value),__vars:{"--sc-label-color":z!==void 0?U({color:z,theme:L,autoContrast:Y}):void 0},key:`${a.value}-label`},v.jsx("span",{...C("innerLabel"),children:a.label})))),ie=A(e,a=>ne(a));return Se(()=>{ee(O())},[d.length]),d.length===0?null:v.jsxs(E,{...C("root"),variant:X,size:l,ref:ie,mod:[{"full-width":S,orientation:w,initialized:Z,"with-items-borders":G},J],...Q,role:"radiogroup","data-disabled":m,children:[typeof _=="string"&&v.jsx(j,{target:T[_],parent:te,component:"span",transitionDuration:"var(--sc-transition-duration)",...C("indicator")},V),ae]})});k.classes=H;k.displayName="@mantine/core/SegmentedControl";const Ne="_label_1p09s_1",Fe={label:Ne},K=({id:t,size:e,label:n,className:r,children:s,...i})=>v.jsxs(ve,{direction:"column",children:[v.jsx(he,{id:t,component:"div",size:e,className:be(Fe.label,r),...i,children:n}),s]});K.__docgenInfo={description:"`id` field is required for the `RMLabel` component, and it should be used as the `aria-labelledby` attribute of the control element, for accessibility reasons.",methods:[],displayName:"RMLabel",props:{id:{required:!0,tsType:{name:"string"},description:""},size:{required:!1,tsType:{name:"union",raw:"MantineSize | string",elements:[{name:"MantineSize"},{name:"string"}]},description:""}}};const Oe=({label:t,size:e,...n})=>{const r=o.useId();return v.jsx(K,{id:r,size:e,label:t,children:v.jsx(k,{size:e,"aria-labelledby":r,...n})})};Oe.__docgenInfo={description:"",methods:[],displayName:"RMLabelledSegmentedControl",props:{label:{required:!0,tsType:{name:"string"},description:""}}};export{Oe as R,Ke as g};
