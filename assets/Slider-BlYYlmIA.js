import{j as b}from"./jsx-runtime-D_zvdyIk.js";import{r as d}from"./index-D4lIrffr.js";import{B as T,f as we,u as Le,a as Re,b as Ce,s as _e,m as je,e as Te,l as De}from"./factory-b8CrjD1V.js";import{c as Pe,u as Ne}from"./DirectionProvider-C-izzZUU.js";import{T as Ae}from"./Transition-tPwwHQ-V.js";import{u as Fe}from"./use-uncontrolled-tcvBUmcL.js";import{u as ze}from"./use-merged-ref-ZhZzJ_Lh.js";function z(t,e,r){return e===void 0&&r===void 0?t:e!==void 0&&r===void 0?Math.max(t,e):Math.min(e===void 0&&r!==void 0?t:Math.max(t,e),r)}function He(t,e,r="ltr"){const a=d.useRef(null),s=d.useRef(!1),u=d.useRef(!1),p=d.useRef(0),[f,m]=d.useState(!1);return d.useEffect(()=>{s.current=!0},[]),d.useEffect(()=>{const n=a.current,c=({x:i,y:C})=>{cancelAnimationFrame(p.current),p.current=requestAnimationFrame(()=>{if(s.current&&n){n.style.userSelect="none";const y=n.getBoundingClientRect();if(y.width&&y.height){const l=z((i-y.left)/y.width,0,1);t({x:r==="ltr"?l:1-l,y:z((C-y.top)/y.height,0,1)})}}})},x=()=>{document.addEventListener("mousemove",V),document.addEventListener("mouseup",L),document.addEventListener("touchmove",R),document.addEventListener("touchend",L)},D=()=>{document.removeEventListener("mousemove",V),document.removeEventListener("mouseup",L),document.removeEventListener("touchmove",R),document.removeEventListener("touchend",L)},w=()=>{!u.current&&s.current&&(u.current=!0,typeof(e==null?void 0:e.onScrubStart)=="function"&&e.onScrubStart(),m(!0),x())},L=()=>{u.current&&s.current&&(u.current=!1,m(!1),D(),setTimeout(()=>{typeof(e==null?void 0:e.onScrubEnd)=="function"&&e.onScrubEnd()},0))},o=i=>{w(),i.preventDefault(),V(i)},V=i=>c({x:i.clientX,y:i.clientY}),P=i=>{i.cancelable&&i.preventDefault(),w(),R(i)},R=i=>{i.cancelable&&i.preventDefault(),c({x:i.changedTouches[0].clientX,y:i.changedTouches[0].clientY})};return n==null||n.addEventListener("mousedown",o),n==null||n.addEventListener("touchstart",P,{passive:!1}),()=>{n&&(n.removeEventListener("mousedown",o),n.removeEventListener("touchstart",P))}},[r,t]),{ref:a,active:f}}function Z(t,e){return e.length===0?t:e.reduce((r,a)=>Math.abs(a-t)<Math.abs(r-t)?a:r)}const[Oe,B]=Pe("SliderProvider was not found in tree"),re=d.forwardRef(({size:t,disabled:e,variant:r,color:a,thumbSize:s,radius:u,...p},f)=>{const{getStyles:m}=B();return b.jsx(T,{tabIndex:-1,variant:r,size:t,ref:f,...m("root"),...p})});re.displayName="@mantine/core/SliderRoot";const ne=d.forwardRef(({max:t,min:e,value:r,position:a,label:s,dragging:u,onMouseDown:p,onKeyDownCapture:f,labelTransitionProps:m,labelAlwaysOn:n,thumbLabel:c,onFocus:x,onBlur:D,showLabelOnHover:w,isHovered:L,children:o=null,disabled:V},P)=>{const{getStyles:R}=B(),[i,C]=d.useState(!1),y=n||u||i||w&&L;return b.jsxs(T,{tabIndex:0,role:"slider","aria-label":c,"aria-valuemax":t,"aria-valuemin":e,"aria-valuenow":r,ref:P,__vars:{"--slider-thumb-offset":`${a}%`},...R("thumb",{focusable:!0}),mod:{dragging:u,disabled:V},onFocus:l=>{C(!0),typeof x=="function"&&x(l)},onBlur:l=>{C(!1),typeof D=="function"&&D(l)},onTouchStart:p,onMouseDown:p,onKeyDownCapture:f,onClick:l=>l.stopPropagation(),children:[o,b.jsx(Ae,{mounted:s!=null&&!!y,transition:"fade",duration:0,...m,children:l=>b.jsx("div",{...R("label",{style:l}),children:s})})]})});ne.displayName="@mantine/core/SliderThumb";function ae({value:t,min:e,max:r}){const a=(t-e)/(r-e)*100;return Math.min(Math.max(a,0),100)}function $e({mark:t,offset:e,value:r,inverted:a=!1}){return a?typeof e=="number"&&t.value<=e||t.value>=r:typeof e=="number"?t.value>=e&&t.value<=r:t.value<=r}function oe({marks:t,min:e,max:r,disabled:a,value:s,offset:u,inverted:p}){const{getStyles:f}=B();if(!t)return null;const m=t.map((n,c)=>d.createElement(T,{...f("markWrapper"),__vars:{"--mark-offset":`${ae({value:n.value,min:e,max:r})}%`},key:c},b.jsx(T,{...f("mark"),mod:{filled:$e({mark:n,value:s,offset:u,inverted:p}),disabled:a}}),n.label&&b.jsx("div",{...f("markLabel"),children:n.label})));return b.jsx("div",{children:m})}oe.displayName="@mantine/core/SliderMarks";function se({filled:t,children:e,offset:r,disabled:a,marksOffset:s,inverted:u,containerProps:p,...f}){const{getStyles:m}=B();return b.jsx(T,{...m("trackContainer"),mod:{disabled:a},...p,children:b.jsxs(T,{...m("track"),mod:{inverted:u,disabled:a},children:[b.jsx(T,{mod:{inverted:u,disabled:a},__vars:{"--slider-bar-width":`calc(${t}% + 2 * var(--slider-size))`,"--slider-bar-offset":`calc(${r}% - var(--slider-size))`},...m("bar")}),e,b.jsx(oe,{...f,offset:s,disabled:a,inverted:u})]})})}se.displayName="@mantine/core/SliderTrack";function Be({value:t,containerWidth:e,min:r,max:a,step:s,precision:u}){const f=(e?Math.min(Math.max(t,0),e)/e:t)*(a-r),m=(f!==0?Math.round(f/s)*s:0)+r,n=Math.max(m,r);return u!==void 0?Number(n.toFixed(u)):n}function $(t,e){return parseFloat(t.toFixed(e))}function Ie(t){if(!t)return 0;const e=t.toString().split(".");return e.length>1?e[1].length:0}function K(t,e){const a=[...e].sort((s,u)=>s.value-u.value).find(s=>s.value>t);return a?a.value:t}function U(t,e){const a=[...e].sort((s,u)=>u.value-s.value).find(s=>s.value<t);return a?a.value:t}function ee(t){const e=[...t].sort((r,a)=>r.value-a.value);return e.length>0?e[0].value:0}function te(t){const e=[...t].sort((r,a)=>r.value-a.value);return e.length>0?e[e.length-1].value:100}var ue={root:"m_dd36362e",label:"m_c9357328",thumb:"m_c9a9a60a",trackContainer:"m_a8645c2",track:"m_c9ade57f",bar:"m_38aeed47",markWrapper:"m_b7b0423a",mark:"m_dd33bc19",markLabel:"m_68c77a5b"};const Ke={radius:"xl",min:0,max:100,step:1,marks:[],label:t=>t,labelTransitionProps:{transition:"fade",duration:0},labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:t=>t},Ue=Ce((t,{size:e,color:r,thumbSize:a,radius:s})=>({root:{"--slider-size":De(e,"slider-size"),"--slider-color":r?Te(r,t):void 0,"--slider-radius":s===void 0?void 0:je(s),"--slider-thumb-size":a!==void 0?_e(a):"calc(var(--slider-size) * 2)"}})),ce=we((t,e)=>{const r=Le("Slider",Ke,t),{classNames:a,styles:s,value:u,onChange:p,onChangeEnd:f,size:m,min:n,max:c,step:x,precision:D,defaultValue:w,name:L,marks:o,label:V,labelTransitionProps:P,labelAlwaysOn:R,thumbLabel:i,showLabelOnHover:C,thumbChildren:y,disabled:l,unstyled:le,scale:ie,inverted:de,className:fe,style:me,vars:ve,hiddenInputProps:be,restrictToMarks:E,thumbProps:he,...pe}=r,xe=Re({name:"Slider",props:r,classes:ue,classNames:a,className:fe,styles:s,style:me,vars:ve,varsResolver:Ue,unstyled:le}),{dir:A}=Ne(),[Me,X]=d.useState(!1),[h,M]=Fe({value:typeof u=="number"?z(u,n,c):u,defaultValue:typeof w=="number"?z(w,n,c):w,finalValue:z(0,n,c),onChange:p}),I=d.useRef(h),F=d.useRef(f);d.useEffect(()=>{F.current=f},[f]);const Y=d.useRef(null),j=d.useRef(null),q=ae({value:h,min:n,max:c}),H=ie(h),ge=typeof V=="function"?V(H):V,N=D??Ie(x),Se=d.useCallback(({x:v})=>{if(!l){const _=Be({value:v,min:n,max:c,step:x,precision:N});M(E&&(o!=null&&o.length)?Z(_,o.map(O=>O.value)):_),I.current=_}},[l,n,c,x,N,M,o,E]),ke=d.useCallback(()=>{if(!l&&F.current){const v=E&&(o!=null&&o.length)?Z(I.current,o.map(_=>_.value)):I.current;F.current(v)}},[l,o,E]),{ref:ye,active:Ee}=He(Se,{onScrubEnd:ke},A),g=d.useCallback(v=>{!l&&F.current&&F.current(v)},[l]),Ve=v=>{var _,O,W,G,J,Q;if(!l)switch(v.key){case"ArrowUp":{if(v.preventDefault(),(_=j.current)==null||_.focus(),E&&o){const k=K(h,o);M(k),g(k);break}const S=$(Math.min(Math.max(h+x,n),c),N);M(S),g(S);break}case"ArrowRight":{if(v.preventDefault(),(O=j.current)==null||O.focus(),E&&o){const k=A==="rtl"?U(h,o):K(h,o);M(k),g(k);break}const S=$(Math.min(Math.max(A==="rtl"?h-x:h+x,n),c),N);M(S),g(S);break}case"ArrowDown":{if(v.preventDefault(),(W=j.current)==null||W.focus(),E&&o){const k=U(h,o);M(k),g(k);break}const S=$(Math.min(Math.max(h-x,n),c),N);M(S),g(S);break}case"ArrowLeft":{if(v.preventDefault(),(G=j.current)==null||G.focus(),E&&o){const k=A==="rtl"?K(h,o):U(h,o);M(k),g(k);break}const S=$(Math.min(Math.max(A==="rtl"?h+x:h-x,n),c),N);M(S),g(S);break}case"Home":{if(v.preventDefault(),(J=j.current)==null||J.focus(),E&&o){M(ee(o)),g(ee(o));break}M(n),g(n);break}case"End":{if(v.preventDefault(),(Q=j.current)==null||Q.focus(),E&&o){M(te(o)),g(te(o));break}M(c),g(c);break}}};return b.jsx(Oe,{value:{getStyles:xe},children:b.jsxs(re,{...pe,ref:ze(e,Y),onKeyDownCapture:Ve,onMouseDownCapture:()=>{var v;return(v=Y.current)==null?void 0:v.focus()},size:m,disabled:l,children:[b.jsx(se,{inverted:de,offset:0,filled:q,marks:o,min:n,max:c,value:H,disabled:l,containerProps:{ref:ye,onMouseEnter:C?()=>X(!0):void 0,onMouseLeave:C?()=>X(!1):void 0},children:b.jsx(ne,{max:c,min:n,value:H,position:q,dragging:Ee,label:ge,ref:j,labelTransitionProps:P,labelAlwaysOn:R,thumbLabel:i,showLabelOnHover:C,isHovered:Me,disabled:l,...he,children:y})}),b.jsx("input",{type:"hidden",name:L,value:H,...be})]})})});ce.classes=ue;ce.displayName="@mantine/core/Slider";export{ce as S};
