import{j as x}from"./jsx-runtime-D_zvdyIk.js";import{r as e}from"./index-0yr9KlQE.js";import{n as D,v as L}from"./factory-DBu1aocQ.js";import{I as j}from"./index-tymuTqDW.js";function k(t,n){try{return t.addEventListener("change",n),()=>t.removeEventListener("change",n)}catch{return t.addListener(n),()=>t.removeListener(n)}}function A(t,n){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(t).matches:!1}function V(t,n,{getInitialValueInEffect:r}={getInitialValueInEffect:!0}){const[s,a]=e.useState(r?n:A(t)),i=e.useRef(null);return e.useEffect(()=>{if("matchMedia"in window)return i.current=window.matchMedia(t),a(i.current.matches),k(i.current,m=>a(m.matches))},[t]),s||!1}function M(t,n){const r=e.useRef(!1);e.useEffect(()=>()=>{r.current=!1},[]),e.useEffect(()=>{if(r.current)return t();r.current=!0},n)}function C(t,n){return V("(prefers-reduced-motion: reduce)",t,n)}const p=t=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${t==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),h={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...p("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...p("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...p("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...p("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...p("top"),common:{transformOrigin:"top right"}}},F={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function W({transition:t,state:n,duration:r,timingFunction:s}){const a={WebkitBackfaceVisibility:"hidden",willChange:"transform, opacity",transitionDuration:`${r}ms`,transitionTimingFunction:s};return typeof t=="string"?t in h?{transitionProperty:h[t].transitionProperty,...a,...h[t].common,...h[t][F[n]]}:{}:{transitionProperty:t.transitionProperty,...a,...t.common,...t[F[n]]}}function $({duration:t,exitDuration:n,timingFunction:r,mounted:s,onEnter:a,onExit:i,onEntered:m,onExited:P,enterDelay:u,exitDelay:y}){const T=D(),Y=C(),l=T.respectReducedMotion?Y:!1,[O,d]=e.useState(l?0:t),[g,c]=e.useState(s?"entered":"exited"),S=e.useRef(-1),X=e.useRef(-1),R=e.useRef(-1);function b(){window.clearTimeout(S.current),window.clearTimeout(X.current),cancelAnimationFrame(R.current)}const v=o=>{b();const f=o?a:i,w=o?m:P,E=l?0:o?t:n;d(E),E===0?(typeof f=="function"&&f(),typeof w=="function"&&w(),c(o?"entered":"exited")):R.current=requestAnimationFrame(()=>{j.flushSync(()=>{c(o?"pre-entering":"pre-exiting")}),R.current=requestAnimationFrame(()=>{typeof f=="function"&&f(),c(o?"entering":"exiting"),S.current=window.setTimeout(()=>{typeof w=="function"&&w(),c(o?"entered":"exited")},E)})})},I=o=>{if(b(),typeof(o?u:y)!="number"){v(o);return}X.current=window.setTimeout(()=>{v(o)},o?u:y)};return M(()=>{I(s)},[s]),e.useEffect(()=>()=>{b()},[]),{transitionDuration:O,transitionStatus:g,transitionTimingFunction:r||"ease"}}function B({keepMounted:t,transition:n="fade",duration:r=250,exitDuration:s=r,mounted:a,children:i,timingFunction:m="ease",onExit:P,onEntered:u,onEnter:y,onExited:T,enterDelay:Y,exitDelay:l}){const O=L(),{transitionDuration:d,transitionStatus:g,transitionTimingFunction:c}=$({mounted:a,exitDuration:s,duration:r,timingFunction:m,onExit:P,onEntered:u,onEnter:y,onExited:T,enterDelay:Y,exitDelay:l});return d===0||O==="test"?a?x.jsx(x.Fragment,{children:i({})}):t?i({display:"none"}):null:g==="exited"?t?i({display:"none"}):null:x.jsx(x.Fragment,{children:i(W({transition:n,duration:d,state:g,timingFunction:c}))})}B.displayName="@mantine/core/Transition";export{B as T,M as a,C as b,V as u};
