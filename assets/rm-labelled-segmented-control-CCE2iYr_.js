import{j as R}from"./jsx-runtime-D_zvdyIk.js";import{r}from"./index-D4lIrffr.js";import{R as ie}from"./rm-label-BRbQZjSN.js";import{f as W,u as P,a as B,B as I,b as A,n as ae,k as ue,l as le,e as ce,m as de}from"./factory-b8CrjD1V.js";import{g as fe}from"./get-contrast-color-CqiSKw8Z.js";import{t as E}from"./to-int-PQE0s6ay.js";import{u as q}from"./use-merged-ref-ZhZzJ_Lh.js";import{r as M,u as me}from"./use-id-B8WzDov0.js";import{u as pe}from"./use-uncontrolled-tcvBUmcL.js";function ve(t,e){if(t===e||Number.isNaN(t)&&Number.isNaN(e))return!0;if(!(t instanceof Object)||!(e instanceof Object))return!1;const n=Object.keys(t),{length:s}=n;if(s!==Object.keys(e).length)return!1;for(let i=0;i<s;i+=1){const a=n[i];if(!(a in e)||t[a]!==e[a]&&!(Number.isNaN(t[a])&&Number.isNaN(e[a])))return!1}return!0}function he(t,e){if(!t||!e)return!1;if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n+=1)if(!ve(t[n],e[n]))return!1;return!0}function be(t){const e=r.useRef([]),n=r.useRef(0);return he(e.current,t)||(e.current=t,n.current+=1),[n.current]}function ge(t,e){r.useEffect(t,be(e))}function ye(t,e,n={autoInvoke:!1}){const s=r.useRef(null),i=r.useCallback((...d)=>{s.current||(s.current=window.setTimeout(()=>{t(d),s.current=null},e))},[e]),a=r.useCallback(()=>{s.current&&(window.clearTimeout(s.current),s.current=null)},[]);return r.useEffect(()=>(n.autoInvoke&&i(),a),[a,i]),{start:i,clear:a}}function Re(t,e,n){const s=r.useRef(null),i=r.useRef(null);return r.useEffect(()=>{const a=typeof n=="function"?n():n;return(a||i.current)&&(s.current=new MutationObserver(t),s.current.observe(a||i.current,e)),()=>{var d;(d=s.current)==null||d.disconnect()}},[t,e]),i}function we(){const[t,e]=r.useState(!1);return r.useEffect(()=>e(!0),[]),t}var Ce={};function Se(){return typeof process<"u"&&Ce?"production":"development"}function Ne(t,e){if(!e||!t)return!1;let n=e.parentNode;for(;n!=null;){if(n===t)return!0;n=n.parentNode}return!1}function Ee({target:t,parent:e,ref:n,displayAfterTransitionEnd:s}){const i=r.useRef(-1),[a,d]=r.useState(!1),[w,C]=r.useState(typeof s=="boolean"?s:!1),c=()=>{if(!t||!e||!n.current)return;const u=t.getBoundingClientRect(),l=e.getBoundingClientRect(),m=window.getComputedStyle(t),p=window.getComputedStyle(e),S=E(m.borderTopWidth)+E(p.borderTopWidth),g=E(m.borderLeftWidth)+E(p.borderLeftWidth),h={top:u.top-l.top-S,left:u.left-l.left-g,width:u.width,height:u.height};n.current.style.transform=`translateY(${h.top}px) translateX(${h.left}px)`,n.current.style.width=`${h.width}px`,n.current.style.height=`${h.height}px`},f=()=>{window.clearTimeout(i.current),n.current&&(n.current.style.transitionDuration="0ms"),c(),i.current=window.setTimeout(()=>{n.current&&(n.current.style.transitionDuration="")},30)},b=r.useRef(null),v=r.useRef(null);return r.useEffect(()=>{if(c(),t)return b.current=new ResizeObserver(f),b.current.observe(t),e&&(v.current=new ResizeObserver(f),v.current.observe(e)),()=>{var u,l;(u=b.current)==null||u.disconnect(),(l=v.current)==null||l.disconnect()}},[e,t]),r.useEffect(()=>{if(e){const u=l=>{Ne(l.target,e)&&(f(),C(!1))};return e.addEventListener("transitionend",u),()=>{e.removeEventListener("transitionend",u)}}},[e]),ye(()=>{Se()!=="test"&&d(!0)},20,{autoInvoke:!0}),Re(u=>{u.forEach(l=>{l.type==="attributes"&&l.attributeName==="dir"&&f()})},{attributes:!0,attributeFilter:["dir"]},()=>document.documentElement),{initialized:a,hidden:w}}var D={root:"m_96b553a6"};const Ie={},_e=A((t,{transitionDuration:e})=>({root:{"--transition-duration":typeof e=="number"?`${e}ms`:e}})),k=W((t,e)=>{const n=P("FloatingIndicator",Ie,t),{classNames:s,className:i,style:a,styles:d,unstyled:w,vars:C,target:c,parent:f,transitionDuration:b,mod:v,displayAfterTransitionEnd:u,...l}=n,m=B({name:"FloatingIndicator",classes:D,props:n,className:i,style:a,classNames:s,styles:d,unstyled:w,vars:C,varsResolver:_e}),p=r.useRef(null),{initialized:S,hidden:g}=Ee({target:c,parent:f,ref:p,displayAfterTransitionEnd:u}),h=q(e,p);return!c||!f?null:R.jsx(I,{ref:h,mod:[{initialized:S,hidden:g},v],...m("root"),...l})});k.displayName="@mantine/core/FloatingIndicator";k.classes=D;var H={root:"m_cf365364",indicator:"m_9e182ccd",label:"m_1738fcb2",input:"m_1714d588",control:"m_69686b9b",innerLabel:"m_78882f40"};const xe={withItemsBorders:!0},$e=A((t,{radius:e,color:n,transitionDuration:s,size:i,transitionTimingFunction:a})=>({root:{"--sc-radius":e===void 0?void 0:de(e),"--sc-color":n?ce(n,t):void 0,"--sc-shadow":n?void 0:"var(--mantine-shadow-xs)","--sc-transition-duration":s===void 0?void 0:`${s}ms`,"--sc-transition-timing-function":a,"--sc-padding":le(i,"sc-padding"),"--sc-font-size":ue(i)}})),T=W((t,e)=>{var L,F;const n=P("SegmentedControl",xe,t),{classNames:s,className:i,style:a,styles:d,unstyled:w,vars:C,data:c,value:f,defaultValue:b,onChange:v,size:u,name:l,disabled:m,readOnly:p,fullWidth:S,orientation:g,radius:h,color:j,transitionDuration:Te,transitionTimingFunction:je,variant:K,autoContrast:U,withItemsBorders:X,mod:Y,...G}=n,y=B({name:"SegmentedControl",props:n,classes:H,className:i,style:a,classNames:s,styles:d,unstyled:w,vars:C,varsResolver:$e}),O=ae(),z=c.map(o=>typeof o=="string"?{label:o,value:o}:o),J=we(),[Q,Z]=r.useState(M()),[V,ee]=r.useState(null),[_,te]=r.useState({}),ne=(o,$)=>{_[$]=o,te(_)},[N,re]=pe({value:f,defaultValue:b,finalValue:Array.isArray(c)?((L=z.find(o=>!o.disabled))==null?void 0:L.value)??((F=c[0])==null?void 0:F.value)??null:null,onChange:v}),x=me(l),se=z.map(o=>r.createElement(I,{...y("control"),mod:{active:N===o.value,orientation:g},key:o.value},r.createElement("input",{...y("input"),disabled:m||o.disabled,type:"radio",name:x,value:o.value,id:`${x}-${o.value}`,checked:N===o.value,onChange:()=>!p&&re(o.value),"data-focus-ring":O.focusRing,key:`${o.value}-input`}),r.createElement(I,{component:"label",...y("label"),mod:{active:N===o.value&&!(m||o.disabled),disabled:m||o.disabled,"read-only":p},htmlFor:`${x}-${o.value}`,ref:$=>ne($,o.value),__vars:{"--sc-label-color":j!==void 0?fe({color:j,theme:O,autoContrast:U}):void 0},key:`${o.value}-label`},R.jsx("span",{...y("innerLabel"),children:o.label})))),oe=q(e,o=>ee(o));return ge(()=>{Z(M())},[c.length]),c.length===0?null:R.jsxs(I,{...y("root"),variant:K,size:u,ref:oe,mod:[{"full-width":S,orientation:g,initialized:J,"with-items-borders":X},Y],...G,role:"radiogroup","data-disabled":m,children:[typeof N=="string"&&R.jsx(k,{target:_[N],parent:V,component:"span",transitionDuration:"var(--sc-transition-duration)",...y("indicator")},Q),se]})});T.classes=H;T.displayName="@mantine/core/SegmentedControl";const ke=({label:t,size:e,...n})=>{const s=r.useId();return R.jsx(ie,{id:s,size:e,label:t,children:R.jsx(T,{size:e,"aria-labelledby":s,...n})})};ke.__docgenInfo={description:"",methods:[],displayName:"RMLabelledSegmentedControl",props:{label:{required:!0,tsType:{name:"string"},description:""}}};export{ke as R};
