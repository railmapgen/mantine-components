import{j as R}from"./jsx-runtime-D_zvdyIk.js";import{r as o}from"./index-DatCARk7.js";import{u as ie,R as ue}from"./rm-label-le0BTy__.js";import{q as le,s as ce,f as P,u as W,a as B,B as I,b as q,l as de,j as fe,d as me,e as pe,k as ve}from"./polymorphic-factory-CyhijUUt.js";import{t as _}from"./to-int-PQE0s6ay.js";import{u as A}from"./Text-gRzdhqZn.js";import{r as M,u as ge}from"./use-id-DSaWsqrk.js";function he(t,e){if(t===e)return!0;if(!(t instanceof Object)||!(e instanceof Object))return!1;const n=Object.keys(t),{length:r}=n;if(r!==Object.keys(e).length)return!1;for(let a=0;a<r;a+=1){const i=n[a];if(!(i in e)||t[i]!==e[i])return!1}return!0}function be(t,e){if(!t||!e)return!1;if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n+=1)if(!he(t[n],e[n]))return!1;return!0}function ye(t){const e=o.useRef([]),n=o.useRef(0);return be(e.current,t)||(e.current=t,n.current+=1),[n.current]}function Re(t,e){o.useEffect(t,ye(e))}function we(t,e,n={autoInvoke:!1}){const r=o.useRef(null),a=o.useCallback((...d)=>{r.current||(r.current=window.setTimeout(()=>{t(d),r.current=null},e))},[e]),i=o.useCallback(()=>{r.current&&(window.clearTimeout(r.current),r.current=null)},[]);return o.useEffect(()=>(n.autoInvoke&&a(),i),[i,a]),{start:a,clear:i}}function Ce(t,e,n){const r=o.useRef(null),a=o.useRef(null);return o.useEffect(()=>{const i=typeof n=="function"?n():n;return(i||a.current)&&(r.current=new MutationObserver(t),r.current.observe(i||a.current,e)),()=>{var d;(d=r.current)==null||d.disconnect()}},[t,e]),a}function Se(){const[t,e]=o.useState(!1);return o.useEffect(()=>e(!0),[]),t}var Ee={};function _e(){return typeof process<"u"&&Ee?"production":"development"}function D({color:t,theme:e,autoContrast:n}){return(typeof n=="boolean"?n:e.autoContrast)&&le({color:t||e.primaryColor,theme:e}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function Ae(t,e){return D({color:t.colors[t.primaryColor][ce(t,e)],theme:t,autoContrast:null})}function Ie(t,e){if(!e||!t)return!1;let n=e.parentNode;for(;n!=null;){if(n===t)return!0;n=n.parentNode}return!1}function xe({target:t,parent:e,ref:n,displayAfterTransitionEnd:r}){const a=o.useRef(-1),[i,d]=o.useState(!1),[w,C]=o.useState(typeof r=="boolean"?r:!1),c=()=>{if(!t||!e||!n.current)return;const u=t.getBoundingClientRect(),l=e.getBoundingClientRect(),m=window.getComputedStyle(t),p=window.getComputedStyle(e),S=_(m.borderTopWidth)+_(p.borderTopWidth),b=_(m.borderLeftWidth)+_(p.borderLeftWidth),g={top:u.top-l.top-S,left:u.left-l.left-b,width:u.width,height:u.height};n.current.style.transform=`translateY(${g.top}px) translateX(${g.left}px)`,n.current.style.width=`${g.width}px`,n.current.style.height=`${g.height}px`},f=()=>{window.clearTimeout(a.current),n.current&&(n.current.style.transitionDuration="0ms"),c(),a.current=window.setTimeout(()=>{n.current&&(n.current.style.transitionDuration="")},30)},h=o.useRef(null),v=o.useRef(null);return o.useEffect(()=>{if(c(),t)return h.current=new ResizeObserver(f),h.current.observe(t),e&&(v.current=new ResizeObserver(f),v.current.observe(e)),()=>{var u,l;(u=h.current)==null||u.disconnect(),(l=v.current)==null||l.disconnect()}},[e,t]),o.useEffect(()=>{if(e){const u=l=>{Ie(l.target,e)&&(f(),C(!1))};return e.addEventListener("transitionend",u),()=>{e.removeEventListener("transitionend",u)}}},[e]),we(()=>{_e()!=="test"&&d(!0)},20,{autoInvoke:!0}),Ce(u=>{u.forEach(l=>{l.type==="attributes"&&l.attributeName==="dir"&&f()})},{attributes:!0,attributeFilter:["dir"]},()=>document.documentElement),{initialized:i,hidden:w}}var H={root:"m_96b553a6"};const ke={},Te=q((t,{transitionDuration:e})=>({root:{"--transition-duration":typeof e=="number"?`${e}ms`:e}})),$=P((t,e)=>{const n=W("FloatingIndicator",ke,t),{classNames:r,className:a,style:i,styles:d,unstyled:w,vars:C,target:c,parent:f,transitionDuration:h,mod:v,displayAfterTransitionEnd:u,...l}=n,m=B({name:"FloatingIndicator",classes:H,props:n,className:a,style:i,classNames:r,styles:d,unstyled:w,vars:C,varsResolver:Te}),p=o.useRef(null),{initialized:S,hidden:b}=xe({target:c,parent:f,ref:p,displayAfterTransitionEnd:u}),g=A(e,p);return!c||!f?null:R.jsx(I,{ref:g,mod:[{initialized:S,hidden:b},v],...m("root"),...l})});$.displayName="@mantine/core/FloatingIndicator";$.classes=H;var K={root:"m_cf365364",indicator:"m_9e182ccd",label:"m_1738fcb2",input:"m_1714d588",control:"m_69686b9b",innerLabel:"m_78882f40"};const $e={withItemsBorders:!0},je=q((t,{radius:e,color:n,transitionDuration:r,size:a,transitionTimingFunction:i})=>({root:{"--sc-radius":e===void 0?void 0:ve(e),"--sc-color":n?pe(n,t):void 0,"--sc-shadow":n?void 0:"var(--mantine-shadow-xs)","--sc-transition-duration":r===void 0?void 0:`${r}ms`,"--sc-transition-timing-function":i,"--sc-padding":me(a,"sc-padding"),"--sc-font-size":fe(a)}})),j=P((t,e)=>{var N,F;const n=W("SegmentedControl",$e,t),{classNames:r,className:a,style:i,styles:d,unstyled:w,vars:C,data:c,value:f,defaultValue:h,onChange:v,size:u,name:l,disabled:m,readOnly:p,fullWidth:S,orientation:b,radius:g,color:L,transitionDuration:Oe,transitionTimingFunction:ze,variant:U,autoContrast:X,withItemsBorders:Y,mod:G,...J}=n,y=B({name:"SegmentedControl",props:n,classes:K,className:a,style:i,classNames:r,styles:d,unstyled:w,vars:C,varsResolver:je}),O=de(),z=c.map(s=>typeof s=="string"?{label:s,value:s}:s),Q=Se(),[Z,V]=o.useState(M()),[ee,te]=o.useState(null),[x,ne]=o.useState({}),re=(s,T)=>{x[T]=s,ne(x)},[E,oe]=ie({value:f,defaultValue:h,finalValue:Array.isArray(c)?((N=z.find(s=>!s.disabled))==null?void 0:N.value)??((F=c[0])==null?void 0:F.value)??null:null,onChange:v}),k=ge(l),se=z.map(s=>o.createElement(I,{...y("control"),mod:{active:E===s.value,orientation:b},key:s.value},o.createElement("input",{...y("input"),disabled:m||s.disabled,type:"radio",name:k,value:s.value,id:`${k}-${s.value}`,checked:E===s.value,onChange:()=>!p&&oe(s.value),"data-focus-ring":O.focusRing,key:`${s.value}-input`}),o.createElement(I,{component:"label",...y("label"),mod:{active:E===s.value&&!(m||s.disabled),disabled:m||s.disabled,"read-only":p},htmlFor:`${k}-${s.value}`,ref:T=>re(T,s.value),__vars:{"--sc-label-color":L!==void 0?D({color:L,theme:O,autoContrast:X}):void 0},key:`${s.value}-label`},R.jsx("span",{...y("innerLabel"),children:s.label})))),ae=A(e,s=>te(s));return Re(()=>{V(M())},[c.length]),c.length===0?null:R.jsxs(I,{...y("root"),variant:U,size:u,ref:ae,mod:[{"full-width":S,orientation:b,initialized:Q,"with-items-borders":Y},G],...J,role:"radiogroup","data-disabled":m,children:[typeof E=="string"&&R.jsx($,{target:x[E],parent:ee,component:"span",transitionDuration:"var(--sc-transition-duration)",...y("indicator")},Z),se]})});j.classes=K;j.displayName="@mantine/core/SegmentedControl";const Le=({label:t,size:e,...n})=>{const r=o.useId();return R.jsx(ue,{id:r,size:e,label:t,children:R.jsx(j,{size:e,"aria-labelledby":r,...n})})};Le.__docgenInfo={description:"",methods:[],displayName:"RMLabelledSegmentedControl",props:{label:{required:!0,tsType:{name:"string"},description:""}}};export{Le as R,Ae as g};
