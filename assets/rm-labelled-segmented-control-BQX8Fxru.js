import{j as w}from"./jsx-runtime-D_zvdyIk.js";import{r}from"./index-0yr9KlQE.js";import{R as ie}from"./rm-label-CpfyxeOT.js";import{f as P,u as W,a as B,B as _,b as q,n as le,k as ue,l as ce,e as de,m as fe}from"./factory-DBu1aocQ.js";import{g as me}from"./get-contrast-color-CVHbrEi1.js";import{t as I}from"./to-int-PQE0s6ay.js";import{u as A}from"./use-merged-ref-VFbqHomq.js";import{r as F,u as pe}from"./use-id-Bbj4jMpb.js";import{u as ve}from"./use-uncontrolled-DCQPDs6D.js";function be(t,e){if(t===e||Number.isNaN(t)&&Number.isNaN(e))return!0;if(!(t instanceof Object)||!(e instanceof Object))return!1;const n=Object.keys(t),{length:o}=n;if(o!==Object.keys(e).length)return!1;for(let a=0;a<o;a+=1){const i=n[a];if(!(i in e)||t[i]!==e[i]&&!(Number.isNaN(t[i])&&Number.isNaN(e[i])))return!1}return!0}function ge(t,e){if(!t||!e)return!1;if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n+=1)if(!be(t[n],e[n]))return!1;return!0}function he(t){const e=r.useRef([]),n=r.useRef(0);return ge(e.current,t)||(e.current=t,n.current+=1),[n.current]}function ye(t,e){r.useEffect(t,he(e))}function Re(t,e,n={autoInvoke:!1}){const o=r.useRef(null),a=r.useCallback((...c)=>{o.current||(o.current=window.setTimeout(()=>{t(c),o.current=null},e))},[e]),i=r.useCallback(()=>{o.current&&(window.clearTimeout(o.current),o.current=null)},[]);return r.useEffect(()=>(n.autoInvoke&&a(),i),[i,a]),{start:a,clear:i}}function we(t,e,n){const o=r.useRef(null),a=r.useRef(null);return r.useEffect(()=>{const i=typeof n=="function"?n():n;return(i||a.current)&&(o.current=new MutationObserver(t),o.current.observe(i||a.current,e)),()=>{var c;(c=o.current)==null||c.disconnect()}},[t,e]),a}function Ne(){const[t,e]=r.useState(!1);return r.useEffect(()=>e(!0),[]),t}var Ce={};function Se(){return typeof process<"u"&&Ce?"production":"development"}function Ee(t,e){if(!e||!t)return!1;let n=e.parentNode;for(;n!=null;){if(n===t)return!0;n=n.parentNode}return!1}function Ie({target:t,parent:e,ref:n,displayAfterTransitionEnd:o}){const a=r.useRef(-1),[i,c]=r.useState(!1),[N,C]=r.useState(typeof o=="boolean"?o:!1),d=()=>{if(!t||!e||!n.current)return;const l=t.getBoundingClientRect(),u=e.getBoundingClientRect(),m=window.getComputedStyle(t),v=window.getComputedStyle(e),h=I(m.borderTopWidth)+I(v.borderTopWidth),y=I(m.borderLeftWidth)+I(v.borderLeftWidth),b={top:l.top-u.top-h,left:l.left-u.left-y,width:l.width,height:l.height};n.current.style.transform=`translateY(${b.top}px) translateX(${b.left}px)`,n.current.style.width=`${b.width}px`,n.current.style.height=`${b.height}px`},f=()=>{window.clearTimeout(a.current),n.current&&(n.current.style.transitionDuration="0ms"),d(),a.current=window.setTimeout(()=>{n.current&&(n.current.style.transitionDuration="")},30)},g=r.useRef(null),p=r.useRef(null);return r.useEffect(()=>{if(d(),t)return g.current=new ResizeObserver(f),g.current.observe(t),e&&(p.current=new ResizeObserver(f),p.current.observe(e)),()=>{var l,u;(l=g.current)==null||l.disconnect(),(u=p.current)==null||u.disconnect()}},[e,t]),r.useEffect(()=>{if(e){const l=u=>{Ee(u.target,e)&&(f(),C(!1))};return e.addEventListener("transitionend",l),()=>{e.removeEventListener("transitionend",l)}}},[e]),Re(()=>{Se()!=="test"&&c(!0)},20,{autoInvoke:!0}),we(l=>{l.forEach(u=>{u.type==="attributes"&&u.attributeName==="dir"&&f()})},{attributes:!0,attributeFilter:["dir"]},()=>document.documentElement),{initialized:i,hidden:N}}var D={root:"m_96b553a6"};const _e=q((t,{transitionDuration:e})=>({root:{"--transition-duration":typeof e=="number"?`${e}ms`:e}})),$=P((t,e)=>{const n=W("FloatingIndicator",null,t),{classNames:o,className:a,style:i,styles:c,unstyled:N,vars:C,target:d,parent:f,transitionDuration:g,mod:p,displayAfterTransitionEnd:l,attributes:u,...m}=n,v=B({name:"FloatingIndicator",classes:D,props:n,className:a,style:i,classNames:o,styles:c,unstyled:N,attributes:u,vars:C,varsResolver:_e}),h=r.useRef(null),{initialized:y,hidden:b}=Ie({target:d,parent:f,ref:h,displayAfterTransitionEnd:l}),E=A(e,h);return!d||!f?null:w.jsx(_,{ref:E,mod:[{initialized:y,hidden:b},p],...v("root"),...m})});$.displayName="@mantine/core/FloatingIndicator";$.classes=D;var H={root:"m_cf365364",indicator:"m_9e182ccd",label:"m_1738fcb2",input:"m_1714d588",control:"m_69686b9b",innerLabel:"m_78882f40"};const xe={withItemsBorders:!0},ke=q((t,{radius:e,color:n,transitionDuration:o,size:a,transitionTimingFunction:i})=>({root:{"--sc-radius":e===void 0?void 0:fe(e),"--sc-color":n?de(n,t):void 0,"--sc-shadow":n?void 0:"var(--mantine-shadow-xs)","--sc-transition-duration":o===void 0?void 0:`${o}ms`,"--sc-transition-timing-function":i,"--sc-padding":ce(a,"sc-padding"),"--sc-font-size":ue(a)}})),j=P((t,e)=>{var O,z;const n=W("SegmentedControl",xe,t),{classNames:o,className:a,style:i,styles:c,unstyled:N,vars:C,data:d,value:f,defaultValue:g,onChange:p,size:l,name:u,disabled:m,readOnly:v,fullWidth:h,orientation:y,radius:b,color:E,transitionDuration:$e,transitionTimingFunction:je,variant:K,autoContrast:U,withItemsBorders:X,mod:Y,attributes:G,...J}=n,R=B({name:"SegmentedControl",props:n,classes:H,className:a,style:i,classNames:o,styles:c,unstyled:N,attributes:G,vars:C,varsResolver:ke}),L=le(),M=d.map(s=>typeof s=="string"?{label:s,value:s}:s),Q=Ne(),[Z,V]=r.useState(F()),[ee,te]=r.useState(null),[x,ne]=r.useState({}),re=(s,T)=>{x[T]=s,ne(x)},[S,se]=ve({value:f,defaultValue:g,finalValue:Array.isArray(d)?((O=M.find(s=>!s.disabled))==null?void 0:O.value)??((z=d[0])==null?void 0:z.value)??null:null,onChange:p}),k=pe(u),oe=M.map(s=>r.createElement(_,{...R("control"),mod:{active:S===s.value,orientation:y},key:s.value},r.createElement("input",{...R("input"),disabled:m||s.disabled,type:"radio",name:k,value:s.value,id:`${k}-${s.value}`,checked:S===s.value,onChange:()=>!v&&se(s.value),"data-focus-ring":L.focusRing,key:`${s.value}-input`}),r.createElement(_,{component:"label",...R("label"),mod:{active:S===s.value&&!(m||s.disabled),disabled:m||s.disabled,"read-only":v},htmlFor:`${k}-${s.value}`,ref:T=>re(T,s.value),__vars:{"--sc-label-color":E!==void 0?me({color:E,theme:L,autoContrast:U}):void 0},key:`${s.value}-label`},w.jsx("span",{...R("innerLabel"),children:s.label})))),ae=A(e,s=>te(s));return ye(()=>{V(F())},[d.length]),d.length===0?null:w.jsxs(_,{...R("root"),variant:K,size:l,ref:ae,mod:[{"full-width":h,orientation:y,initialized:Q,"with-items-borders":X},Y],...J,role:"radiogroup","data-disabled":m,children:[typeof S=="string"&&w.jsx($,{target:x[S],parent:ee,component:"span",transitionDuration:"var(--sc-transition-duration)",...R("indicator")},Z),oe]})});j.classes=H;j.displayName="@mantine/core/SegmentedControl";const Te=({label:t,size:e,classNames:n={},...o})=>{const{control:a,...i}=n,c=r.useId();return w.jsx(ie,{id:c,size:e,label:t,classNames:i,children:w.jsx(j,{size:e,"aria-labelledby":c,className:a,...o})})};Te.__docgenInfo={description:"",methods:[],displayName:"RMLabelledSegmentedControl",props:{label:{required:!0,tsType:{name:"string"},description:""},classNames:{required:!1,tsType:{name:"intersection",raw:"RMLabelProps['classNames'] & { control?: string }",elements:[{name:"intersection['classNames']",raw:"RMLabelProps['classNames']"},{name:"signature",type:"object",raw:"{ control?: string }",signature:{properties:[{key:"control",value:{name:"string",required:!1}}]}}]},description:"",defaultValue:{value:"{}",computed:!1}}}};export{Te as R};
