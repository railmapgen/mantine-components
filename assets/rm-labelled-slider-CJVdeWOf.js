import{j as f}from"./jsx-runtime-D_zvdyIk.js";import{u as we,R as Te}from"./rm-label-DbuIuSeh.js";import{r as c}from"./index-DatCARk7.js";import{B as A,f as je,u as _e,a as Ce,b as Ve,r as Ae,k as Ne,d as Pe,j as De,c as Ie}from"./polymorphic-factory-BdIovDLJ.js";import{G as qe}from"./Group-DoWaM-bj.js";import{A as ee}from"./ActionIcon-BT1RidIz.js";import{c as Fe,u as ze}from"./DirectionProvider-Bx5_5Z3m.js";import{T as $e}from"./Loader-Bt0wSaWu.js";import{u as He}from"./use-merged-ref-j8iXyRLQ.js";function q(t,e,r){return e===void 0&&r===void 0?t:e!==void 0&&r===void 0?Math.max(t,e):Math.min(e===void 0&&r!==void 0?t:Math.max(t,e),r)}function Oe(t,e,r="ltr"){const s=c.useRef(null),o=c.useRef(!1),i=c.useRef(!1),v=c.useRef(0),[u,p]=c.useState(!1);return c.useEffect(()=>{o.current=!0},[]),c.useEffect(()=>{const n=s.current,l=({x:m,y:_})=>{cancelAnimationFrame(v.current),v.current=requestAnimationFrame(()=>{if(o.current&&n){n.style.userSelect="none";const L=n.getBoundingClientRect();if(L.width&&L.height){const d=q((m-L.left)/L.width,0,1);t({x:r==="ltr"?d:1-d,y:q((_-L.top)/L.height,0,1)})}}})},b=()=>{document.addEventListener("mousemove",y),document.addEventListener("mouseup",R),document.addEventListener("touchmove",j),document.addEventListener("touchend",R)},T=()=>{document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",R),document.removeEventListener("touchmove",j),document.removeEventListener("touchend",R)},S=()=>{!i.current&&o.current&&(i.current=!0,typeof(e==null?void 0:e.onScrubStart)=="function"&&e.onScrubStart(),p(!0),b())},R=()=>{i.current&&o.current&&(i.current=!1,p(!1),T(),setTimeout(()=>{typeof(e==null?void 0:e.onScrubEnd)=="function"&&e.onScrubEnd()},0))},a=m=>{S(),m.preventDefault(),y(m)},y=m=>l({x:m.clientX,y:m.clientY}),N=m=>{m.cancelable&&m.preventDefault(),S(),j(m)},j=m=>{m.cancelable&&m.preventDefault(),l({x:m.changedTouches[0].clientX,y:m.changedTouches[0].clientY})};return n==null||n.addEventListener("mousedown",a),n==null||n.addEventListener("touchstart",N,{passive:!1}),()=>{n&&(n.removeEventListener("mousedown",a),n.removeEventListener("touchstart",N))}},[r,t]),{ref:s,active:u}}function te(t,e){return e.length===0?t:e.reduce((r,s)=>Math.abs(s-t)<Math.abs(r-t)?s:r)}const[Be,H]=Fe("SliderProvider was not found in tree"),se=c.forwardRef(({size:t,disabled:e,variant:r,color:s,thumbSize:o,radius:i,...v},u)=>{const{getStyles:p}=H();return f.jsx(A,{tabIndex:-1,variant:r,size:t,ref:u,...p("root"),...v})});se.displayName="@mantine/core/SliderRoot";const ae=c.forwardRef(({max:t,min:e,value:r,position:s,label:o,dragging:i,onMouseDown:v,onKeyDownCapture:u,labelTransitionProps:p,labelAlwaysOn:n,thumbLabel:l,onFocus:b,onBlur:T,showLabelOnHover:S,isHovered:R,children:a=null,disabled:y},N)=>{const{getStyles:j}=H(),[m,_]=c.useState(!1),L=n||i||m||S&&R;return f.jsxs(A,{tabIndex:0,role:"slider","aria-label":l,"aria-valuemax":t,"aria-valuemin":e,"aria-valuenow":r,ref:N,__vars:{"--slider-thumb-offset":`${s}%`},...j("thumb",{focusable:!0}),mod:{dragging:i,disabled:y},onFocus:d=>{_(!0),typeof b=="function"&&b(d)},onBlur:d=>{_(!1),typeof T=="function"&&T(d)},onTouchStart:v,onMouseDown:v,onKeyDownCapture:u,onClick:d=>d.stopPropagation(),children:[a,f.jsx($e,{mounted:o!=null&&!!L,transition:"fade",duration:0,...p,children:d=>f.jsx("div",{...j("label",{style:d}),children:o})})]})});ae.displayName="@mantine/core/SliderThumb";function oe({value:t,min:e,max:r}){const s=(t-e)/(r-e)*100;return Math.min(Math.max(s,0),100)}function Ke({mark:t,offset:e,value:r,inverted:s=!1}){return s?typeof e=="number"&&t.value<=e||t.value>=r:typeof e=="number"?t.value>=e&&t.value<=r:t.value<=r}function ie({marks:t,min:e,max:r,disabled:s,value:o,offset:i,inverted:v}){const{getStyles:u}=H();if(!t)return null;const p=t.map((n,l)=>c.createElement(A,{...u("markWrapper"),__vars:{"--mark-offset":`${oe({value:n.value,min:e,max:r})}%`},key:l},f.jsx(A,{...u("mark"),mod:{filled:Ke({mark:n,value:o,offset:i,inverted:v}),disabled:s}}),n.label&&f.jsx("div",{...u("markLabel"),children:n.label})));return f.jsx("div",{children:p})}ie.displayName="@mantine/core/SliderMarks";function le({filled:t,children:e,offset:r,disabled:s,marksOffset:o,inverted:i,containerProps:v,...u}){const{getStyles:p}=H();return f.jsx(A,{...p("trackContainer"),mod:{disabled:s},...v,children:f.jsxs(A,{...p("track"),mod:{inverted:i,disabled:s},children:[f.jsx(A,{mod:{inverted:i,disabled:s},__vars:{"--slider-bar-width":`calc(${t}% + 2 * var(--slider-size))`,"--slider-bar-offset":`calc(${r}% - var(--slider-size))`},...p("bar")}),e,f.jsx(ie,{...u,offset:o,disabled:s,inverted:i})]})})}le.displayName="@mantine/core/SliderTrack";function Ge({value:t,containerWidth:e,min:r,max:s,step:o,precision:i}){const u=(e?Math.min(Math.max(t,0),e)/e:t)*(s-r),p=(u!==0?Math.round(u/o)*o:0)+r,n=Math.max(p,r);return i!==void 0?Number(n.toFixed(i)):n}function $(t,e){return parseFloat(t.toFixed(e))}function Ue(t){if(!t)return 0;const e=t.toString().split(".");return e.length>1?e[1].length:0}function B(t,e){const s=[...e].sort((o,i)=>o.value-i.value).find(o=>o.value>t);return s?s.value:t}function K(t,e){const s=[...e].sort((o,i)=>i.value-o.value).find(o=>o.value<t);return s?s.value:t}function re(t){const e=[...t].sort((r,s)=>r.value-s.value);return e.length>0?e[0].value:0}function ne(t){const e=[...t].sort((r,s)=>r.value-s.value);return e.length>0?e[e.length-1].value:100}var ce={root:"m_dd36362e",label:"m_c9357328",thumb:"m_c9a9a60a",trackContainer:"m_a8645c2",track:"m_c9ade57f",bar:"m_38aeed47",markWrapper:"m_b7b0423a",mark:"m_dd33bc19",markLabel:"m_68c77a5b"};const Xe={radius:"xl",min:0,max:100,step:1,marks:[],label:t=>t,labelTransitionProps:{transition:"fade",duration:0},labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:t=>t},Ye=Ve((t,{size:e,color:r,thumbSize:s,radius:o})=>({root:{"--slider-size":De(e,"slider-size"),"--slider-color":r?Pe(r,t):void 0,"--slider-radius":o===void 0?void 0:Ne(o),"--slider-thumb-size":s!==void 0?Ae(s):"calc(var(--slider-size) * 2)"}})),G=je((t,e)=>{const r=_e("Slider",Xe,t),{classNames:s,styles:o,value:i,onChange:v,onChangeEnd:u,size:p,min:n,max:l,step:b,precision:T,defaultValue:S,name:R,marks:a,label:y,labelTransitionProps:N,labelAlwaysOn:j,thumbLabel:m,showLabelOnHover:_,thumbChildren:L,disabled:d,unstyled:ue,scale:de,inverted:fe,className:me,style:pe,vars:ve,hiddenInputProps:be,restrictToMarks:w,thumbProps:he,...xe}=r,ge=Ce({name:"Slider",props:r,classes:ce,classNames:s,className:me,styles:o,style:pe,vars:ve,varsResolver:Ye,unstyled:ue}),{dir:D}=ze(),[ye,U]=c.useState(!1),[x,g]=we({value:typeof i=="number"?q(i,n,l):i,defaultValue:typeof S=="number"?q(S,n,l):S,finalValue:q(0,n,l),onChange:v}),O=c.useRef(x),I=c.useRef(u);c.useEffect(()=>{I.current=u},[u]);const X=c.useRef(null),V=c.useRef(null),Y=oe({value:x,min:n,max:l}),F=de(x),Me=typeof y=="function"?y(F):y,P=T??Ue(b),Se=c.useCallback(({x:h})=>{if(!d){const C=Ge({value:h,min:n,max:l,step:b,precision:P});g(w&&(a!=null&&a.length)?te(C,a.map(z=>z.value)):C),O.current=C}},[d,n,l,b,P,g,a,w]),ke=c.useCallback(()=>{if(!d&&I.current){const h=w&&(a!=null&&a.length)?te(O.current,a.map(C=>C.value)):O.current;I.current(h)}},[d,a,w]),{ref:Ee,active:Re}=Oe(Se,{onScrubEnd:ke},D),M=c.useCallback(h=>{!d&&I.current&&I.current(h)},[d]),Le=h=>{var C,z,W,J,Q,Z;if(!d)switch(h.key){case"ArrowUp":{if(h.preventDefault(),(C=V.current)==null||C.focus(),w&&a){const E=B(x,a);g(E),M(E);break}const k=$(Math.min(Math.max(x+b,n),l),P);g(k),M(k);break}case"ArrowRight":{if(h.preventDefault(),(z=V.current)==null||z.focus(),w&&a){const E=D==="rtl"?K(x,a):B(x,a);g(E),M(E);break}const k=$(Math.min(Math.max(D==="rtl"?x-b:x+b,n),l),P);g(k),M(k);break}case"ArrowDown":{if(h.preventDefault(),(W=V.current)==null||W.focus(),w&&a){const E=K(x,a);g(E),M(E);break}const k=$(Math.min(Math.max(x-b,n),l),P);g(k),M(k);break}case"ArrowLeft":{if(h.preventDefault(),(J=V.current)==null||J.focus(),w&&a){const E=D==="rtl"?B(x,a):K(x,a);g(E),M(E);break}const k=$(Math.min(Math.max(D==="rtl"?x+b:x-b,n),l),P);g(k),M(k);break}case"Home":{if(h.preventDefault(),(Q=V.current)==null||Q.focus(),w&&a){g(re(a)),M(re(a));break}g(n),M(n);break}case"End":{if(h.preventDefault(),(Z=V.current)==null||Z.focus(),w&&a){g(ne(a)),M(ne(a));break}g(l),M(l);break}}};return f.jsx(Be,{value:{getStyles:ge},children:f.jsxs(se,{...xe,ref:He(e,X),onKeyDownCapture:Le,onMouseDownCapture:()=>{var h;return(h=X.current)==null?void 0:h.focus()},size:p,disabled:d,children:[f.jsx(le,{inverted:fe,offset:0,filled:Y,marks:a,min:n,max:l,value:F,disabled:d,containerProps:{ref:Ee,onMouseEnter:_?()=>U(!0):void 0,onMouseLeave:_?()=>U(!1):void 0},children:f.jsx(ae,{max:l,min:n,value:F,position:Y,dragging:Re,label:Me,ref:V,labelTransitionProps:N,labelAlwaysOn:j,thumbLabel:m,showLabelOnHover:_,isHovered:ye,disabled:d,...he,children:L})}),f.jsx("input",{type:"hidden",name:R,value:F,...be})]})})});G.classes=ce;G.displayName="@mantine/core/Slider";const We="_root_13p0z_1",Je={root:We},Qe=({fieldLabel:t,size:e,withExternalControls:r,leftIcon:s,rightIcon:o,leftIconLabel:i,rightIconLabel:v,buttonControlProps:u,className:p,style:n,...l})=>{const b=c.useId(),T=c.useRef(null),S=R=>{var y;const a=new KeyboardEvent("keydown",{key:R});(y=T.current)==null||y.dispatchEvent(a)};return f.jsx(Te,{id:b,label:t,size:e,children:f.jsxs(qe,{gap:"xs",children:[r&&f.jsx(ee,{variant:"subtle",size:e,"aria-label":i,onClick:()=>S("ArrowLeft"),...u,children:s}),f.jsx(G,{ref:T,size:e,thumbLabel:t,className:Ie(Je.root,p),style:{"--rm-slider-height":`var(--rm-slider-height-${e})`,...n},...l}),r&&f.jsx(ee,{variant:"subtle",size:e,"aria-label":v,onClick:()=>S("ArrowRight"),...u,children:o})]})})};Qe.__docgenInfo={description:"",methods:[],displayName:"RMLabelledSlider",props:{fieldLabel:{required:!0,tsType:{name:"string"},description:""},size:{required:!1,tsType:{name:"union",raw:"MantineSize | string",elements:[{name:"MantineSize"},{name:"string"}]},description:""},withExternalControls:{required:!1,tsType:{name:"boolean"},description:""},leftIcon:{required:!1,tsType:{name:"ReactNode"},description:""},rightIcon:{required:!1,tsType:{name:"ReactNode"},description:""},leftIconLabel:{required:!1,tsType:{name:"string"},description:""},rightIconLabel:{required:!1,tsType:{name:"string"},description:""},buttonControlProps:{required:!1,tsType:{name:"ActionIconProps"},description:""}}};export{Qe as R};
