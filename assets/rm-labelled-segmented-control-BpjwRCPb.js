import{j as y}from"./jsx-runtime-D_zvdyIk.js";import{F as ie}from"./Flex-Qty-xvEX.js";import{t as x,u as M,T as le}from"./Text-MJQKALvJ.js";import{r as o}from"./index-DatCARk7.js";import{q as ue,s as ce,f as W,u as B,a as q,B as E,b as A,i as de,o as fe,d as me,e as pe,h as ve}from"./polymorphic-factory-CIUISfKh.js";import{r as P,u as he}from"./use-id-DSaWsqrk.js";function be(t,e){if(t===e)return!0;if(!(t instanceof Object)||!(e instanceof Object))return!1;const n=Object.keys(t),{length:r}=n;if(r!==Object.keys(e).length)return!1;for(let a=0;a<r;a+=1){const i=n[a];if(!(i in e)||t[i]!==e[i])return!1}return!0}function ge({value:t,defaultValue:e,finalValue:n,onChange:r=()=>{}}){const[a,i]=o.useState(e!==void 0?e:n),c=(p,...h)=>{i(p),r==null||r(p,...h)};return t!==void 0?[t,r,!0]:[a,c,!1]}function ye(t,e){if(!t||!e)return!1;if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n+=1)if(!be(t[n],e[n]))return!1;return!0}function Re(t){const e=o.useRef([]),n=o.useRef(0);return ye(e.current,t)||(e.current=t,n.current+=1),[n.current]}function we(t,e){o.useEffect(t,Re(e))}function Ce(t,e,n={autoInvoke:!1}){const r=o.useRef(null),a=o.useCallback((...c)=>{r.current||(r.current=window.setTimeout(()=>{t(c),r.current=null},e))},[e]),i=o.useCallback(()=>{r.current&&(window.clearTimeout(r.current),r.current=null)},[]);return o.useEffect(()=>(n.autoInvoke&&a(),i),[i,a]),{start:a,clear:i}}function Se(t,e,n){const r=o.useRef(null),a=o.useRef(null);return o.useEffect(()=>{const i=typeof n=="function"?n():n;return(i||a.current)&&(r.current=new MutationObserver(t),r.current.observe(i||a.current,e)),()=>{var c;(c=r.current)==null||c.disconnect()}},[t,e]),a}function _e(){const[t,e]=o.useState(!1);return o.useEffect(()=>e(!0),[]),t}var xe={};function Ee(){return typeof process<"u"&&xe?"production":"development"}function U({color:t,theme:e,autoContrast:n}){return(typeof n=="boolean"?n:e.autoContrast)&&ue({color:t||e.primaryColor,theme:e}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function De(t,e){return U({color:t.colors[t.primaryColor][ce(t,e)],theme:t,autoContrast:null})}function Te(t,e){if(!e||!t)return!1;let n=e.parentNode;for(;n!=null;){if(n===t)return!0;n=n.parentNode}return!1}function $e({target:t,parent:e,ref:n,displayAfterTransitionEnd:r}){const a=o.useRef(-1),[i,c]=o.useState(!1),[p,h]=o.useState(typeof r=="boolean"?r:!1),d=()=>{if(!t||!e||!n.current)return;const l=t.getBoundingClientRect(),u=e.getBoundingClientRect(),m=window.getComputedStyle(t),v=window.getComputedStyle(e),S=x(m.borderTopWidth)+x(v.borderTopWidth),w=x(m.borderLeftWidth)+x(v.borderLeftWidth),g={top:l.top-u.top-S,left:l.left-u.left-w,width:l.width,height:l.height};n.current.style.transform=`translateY(${g.top}px) translateX(${g.left}px)`,n.current.style.width=`${g.width}px`,n.current.style.height=`${g.height}px`},f=()=>{window.clearTimeout(a.current),n.current&&(n.current.style.transitionDuration="0ms"),d(),a.current=window.setTimeout(()=>{n.current&&(n.current.style.transitionDuration="")},30)},R=o.useRef(null),b=o.useRef(null);return o.useEffect(()=>{if(d(),t)return R.current=new ResizeObserver(f),R.current.observe(t),e&&(b.current=new ResizeObserver(f),b.current.observe(e)),()=>{var l,u;(l=R.current)==null||l.disconnect(),(u=b.current)==null||u.disconnect()}},[e,t]),o.useEffect(()=>{if(e){const l=u=>{Te(u.target,e)&&(f(),h(!1))};return e.addEventListener("transitionend",l),()=>{e.removeEventListener("transitionend",l)}}},[e]),Ce(()=>{Ee()!=="test"&&c(!0)},20,{autoInvoke:!0}),Se(l=>{l.forEach(u=>{u.type==="attributes"&&u.attributeName==="dir"&&f()})},{attributes:!0,attributeFilter:["dir"]},()=>document.documentElement),{initialized:i,hidden:p}}var D={root:"m_96b553a6"};const Ie={},ke=A((t,{transitionDuration:e})=>({root:{"--transition-duration":typeof e=="number"?`${e}ms`:e}})),k=W((t,e)=>{const n=B("FloatingIndicator",Ie,t),{classNames:r,className:a,style:i,styles:c,unstyled:p,vars:h,target:d,parent:f,transitionDuration:R,mod:b,displayAfterTransitionEnd:l,...u}=n,m=q({name:"FloatingIndicator",classes:D,props:n,className:a,style:i,classNames:r,styles:c,unstyled:p,vars:h,varsResolver:ke}),v=o.useRef(null),{initialized:S,hidden:w}=$e({target:d,parent:f,ref:v,displayAfterTransitionEnd:l}),g=M(e,v);return!d||!f?null:y.jsx(E,{ref:g,mod:[{initialized:S,hidden:w},b],...m("root"),...u})});k.displayName="@mantine/core/FloatingIndicator";k.classes=D;var H={root:"m_cf365364",indicator:"m_9e182ccd",label:"m_1738fcb2",input:"m_1714d588",control:"m_69686b9b",innerLabel:"m_78882f40"};const je={withItemsBorders:!0},Fe=A((t,{radius:e,color:n,transitionDuration:r,size:a,transitionTimingFunction:i})=>({root:{"--sc-radius":e===void 0?void 0:ve(e),"--sc-color":n?pe(n,t):void 0,"--sc-shadow":n?void 0:"var(--mantine-shadow-xs)","--sc-transition-duration":r===void 0?void 0:`${r}ms`,"--sc-transition-timing-function":i,"--sc-padding":me(a,"sc-padding"),"--sc-font-size":fe(a)}})),j=W((t,e)=>{var z,L;const n=B("SegmentedControl",je,t),{classNames:r,className:a,style:i,styles:c,unstyled:p,vars:h,data:d,value:f,defaultValue:R,onChange:b,size:l,name:u,disabled:m,readOnly:v,fullWidth:S,orientation:w,radius:g,color:F,transitionDuration:Le,transitionTimingFunction:Pe,variant:K,autoContrast:X,withItemsBorders:Y,mod:G,...J}=n,C=q({name:"SegmentedControl",props:n,classes:H,className:a,style:i,classNames:r,styles:c,unstyled:p,vars:h,varsResolver:Fe}),N=de(),O=d.map(s=>typeof s=="string"?{label:s,value:s}:s),Q=_e(),[Z,V]=o.useState(P()),[ee,te]=o.useState(null),[T,ne]=o.useState({}),re=(s,I)=>{T[I]=s,ne(T)},[_,oe]=ge({value:f,defaultValue:R,finalValue:Array.isArray(d)?((z=O.find(s=>!s.disabled))==null?void 0:z.value)??((L=d[0])==null?void 0:L.value)??null:null,onChange:b}),$=he(u),se=O.map(s=>o.createElement(E,{...C("control"),mod:{active:_===s.value,orientation:w},key:s.value},o.createElement("input",{...C("input"),disabled:m||s.disabled,type:"radio",name:$,value:s.value,id:`${$}-${s.value}`,checked:_===s.value,onChange:()=>!v&&oe(s.value),"data-focus-ring":N.focusRing,key:`${s.value}-input`}),o.createElement(E,{component:"label",...C("label"),mod:{active:_===s.value&&!(m||s.disabled),disabled:m||s.disabled,"read-only":v},htmlFor:`${$}-${s.value}`,ref:I=>re(I,s.value),__vars:{"--sc-label-color":F!==void 0?U({color:F,theme:N,autoContrast:X}):void 0},key:`${s.value}-label`},y.jsx("span",{...C("innerLabel"),children:s.label})))),ae=M(e,s=>te(s));return we(()=>{V(P())},[d.length]),d.length===0?null:y.jsxs(E,{...C("root"),variant:K,size:l,ref:ae,mod:[{"full-width":S,orientation:w,initialized:Q,"with-items-borders":Y},G],...J,role:"radiogroup","data-disabled":m,children:[typeof _=="string"&&y.jsx(k,{target:T[_],parent:ee,component:"span",transitionDuration:"var(--sc-transition-duration)",...C("indicator")},Z),se]})});j.classes=H;j.displayName="@mantine/core/SegmentedControl";const Ne="_label_1p09s_1",Oe={label:Ne},ze=({label:t,size:e,...n})=>y.jsxs(ie,{direction:"column",children:[y.jsx(le,{size:e,className:Oe.label,children:t}),y.jsx(j,{size:e,...n})]});ze.__docgenInfo={description:"",methods:[],displayName:"RMLabelledSegmentedControl",props:{label:{required:!0,tsType:{name:"string"},description:""}}};export{ze as R,De as g};
