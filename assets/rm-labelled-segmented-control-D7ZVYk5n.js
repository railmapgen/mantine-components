import{j as w}from"./jsx-runtime-D_zvdyIk.js";import{r}from"./index-0yr9KlQE.js";import{R as ae}from"./rm-label-BUmJSnxv.js";import{f as W,u as B,a as P,B as _,b as A,n as ue,k as le,l as ce,e as de,m as fe}from"./factory-DBu1aocQ.js";import{g as me}from"./get-contrast-color-CVHbrEi1.js";import{t as I}from"./to-int-PQE0s6ay.js";import{u as q}from"./use-merged-ref-VFbqHomq.js";import{r as M,u as pe}from"./use-id-Bbj4jMpb.js";import{u as ve}from"./use-uncontrolled-DCQPDs6D.js";function be(t,e){if(t===e||Number.isNaN(t)&&Number.isNaN(e))return!0;if(!(t instanceof Object)||!(e instanceof Object))return!1;const n=Object.keys(t),{length:s}=n;if(s!==Object.keys(e).length)return!1;for(let i=0;i<s;i+=1){const a=n[i];if(!(a in e)||t[a]!==e[a]&&!(Number.isNaN(t[a])&&Number.isNaN(e[a])))return!1}return!0}function he(t,e){if(!t||!e)return!1;if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n+=1)if(!be(t[n],e[n]))return!1;return!0}function ge(t){const e=r.useRef([]),n=r.useRef(0);return he(e.current,t)||(e.current=t,n.current+=1),[n.current]}function ye(t,e){r.useEffect(t,ge(e))}function Re(t,e,n={autoInvoke:!1}){const s=r.useRef(null),i=r.useCallback((...d)=>{s.current||(s.current=window.setTimeout(()=>{t(d),s.current=null},e))},[e]),a=r.useCallback(()=>{s.current&&(window.clearTimeout(s.current),s.current=null)},[]);return r.useEffect(()=>(n.autoInvoke&&i(),a),[a,i]),{start:i,clear:a}}function we(t,e,n){const s=r.useRef(null),i=r.useRef(null);return r.useEffect(()=>{const a=typeof n=="function"?n():n;return(a||i.current)&&(s.current=new MutationObserver(t),s.current.observe(a||i.current,e)),()=>{var d;(d=s.current)==null||d.disconnect()}},[t,e]),i}function Ce(){const[t,e]=r.useState(!1);return r.useEffect(()=>e(!0),[]),t}var Se={};function Ne(){return typeof process<"u"&&Se?"production":"development"}function Ee(t,e){if(!e||!t)return!1;let n=e.parentNode;for(;n!=null;){if(n===t)return!0;n=n.parentNode}return!1}function Ie({target:t,parent:e,ref:n,displayAfterTransitionEnd:s}){const i=r.useRef(-1),[a,d]=r.useState(!1),[C,S]=r.useState(typeof s=="boolean"?s:!1),c=()=>{if(!t||!e||!n.current)return;const u=t.getBoundingClientRect(),l=e.getBoundingClientRect(),m=window.getComputedStyle(t),v=window.getComputedStyle(e),g=I(m.borderTopWidth)+I(v.borderTopWidth),y=I(m.borderLeftWidth)+I(v.borderLeftWidth),b={top:u.top-l.top-g,left:u.left-l.left-y,width:u.width,height:u.height};n.current.style.transform=`translateY(${b.top}px) translateX(${b.left}px)`,n.current.style.width=`${b.width}px`,n.current.style.height=`${b.height}px`},f=()=>{window.clearTimeout(i.current),n.current&&(n.current.style.transitionDuration="0ms"),c(),i.current=window.setTimeout(()=>{n.current&&(n.current.style.transitionDuration="")},30)},h=r.useRef(null),p=r.useRef(null);return r.useEffect(()=>{if(c(),t)return h.current=new ResizeObserver(f),h.current.observe(t),e&&(p.current=new ResizeObserver(f),p.current.observe(e)),()=>{var u,l;(u=h.current)==null||u.disconnect(),(l=p.current)==null||l.disconnect()}},[e,t]),r.useEffect(()=>{if(e){const u=l=>{Ee(l.target,e)&&(f(),S(!1))};return e.addEventListener("transitionend",u),()=>{e.removeEventListener("transitionend",u)}}},[e]),Re(()=>{Ne()!=="test"&&d(!0)},20,{autoInvoke:!0}),we(u=>{u.forEach(l=>{l.type==="attributes"&&l.attributeName==="dir"&&f()})},{attributes:!0,attributeFilter:["dir"]},()=>document.documentElement),{initialized:a,hidden:C}}var D={root:"m_96b553a6"};const _e=A((t,{transitionDuration:e})=>({root:{"--transition-duration":typeof e=="number"?`${e}ms`:e}})),$=W((t,e)=>{const n=B("FloatingIndicator",null,t),{classNames:s,className:i,style:a,styles:d,unstyled:C,vars:S,target:c,parent:f,transitionDuration:h,mod:p,displayAfterTransitionEnd:u,attributes:l,...m}=n,v=P({name:"FloatingIndicator",classes:D,props:n,className:i,style:a,classNames:s,styles:d,unstyled:C,attributes:l,vars:S,varsResolver:_e}),g=r.useRef(null),{initialized:y,hidden:b}=Ie({target:c,parent:f,ref:g,displayAfterTransitionEnd:u}),E=q(e,g);return!c||!f?null:w.jsx(_,{ref:E,mod:[{initialized:y,hidden:b},p],...v("root"),...m})});$.displayName="@mantine/core/FloatingIndicator";$.classes=D;var H={root:"m_cf365364",indicator:"m_9e182ccd",label:"m_1738fcb2",input:"m_1714d588",control:"m_69686b9b",innerLabel:"m_78882f40"};const xe={withItemsBorders:!0},ke=A((t,{radius:e,color:n,transitionDuration:s,size:i,transitionTimingFunction:a})=>({root:{"--sc-radius":e===void 0?void 0:fe(e),"--sc-color":n?de(n,t):void 0,"--sc-shadow":n?void 0:"var(--mantine-shadow-xs)","--sc-transition-duration":s===void 0?void 0:`${s}ms`,"--sc-transition-timing-function":a,"--sc-padding":ce(i,"sc-padding"),"--sc-font-size":le(i)}})),j=W((t,e)=>{var L,F;const n=B("SegmentedControl",xe,t),{classNames:s,className:i,style:a,styles:d,unstyled:C,vars:S,data:c,value:f,defaultValue:h,onChange:p,size:u,name:l,disabled:m,readOnly:v,fullWidth:g,orientation:y,radius:b,color:E,transitionDuration:$e,transitionTimingFunction:je,variant:K,autoContrast:U,withItemsBorders:X,mod:Y,attributes:G,...J}=n,R=P({name:"SegmentedControl",props:n,classes:H,className:i,style:a,classNames:s,styles:d,unstyled:C,attributes:G,vars:S,varsResolver:ke}),O=ue(),z=c.map(o=>typeof o=="string"?{label:o,value:o}:o),Q=Ce(),[Z,V]=r.useState(M()),[ee,te]=r.useState(null),[x,ne]=r.useState({}),re=(o,T)=>{x[T]=o,ne(x)},[N,se]=ve({value:f,defaultValue:h,finalValue:Array.isArray(c)?((L=z.find(o=>!o.disabled))==null?void 0:L.value)??((F=c[0])==null?void 0:F.value)??null:null,onChange:p}),k=pe(l),oe=z.map(o=>r.createElement(_,{...R("control"),mod:{active:N===o.value,orientation:y},key:o.value},r.createElement("input",{...R("input"),disabled:m||o.disabled,type:"radio",name:k,value:o.value,id:`${k}-${o.value}`,checked:N===o.value,onChange:()=>!v&&se(o.value),"data-focus-ring":O.focusRing,key:`${o.value}-input`}),r.createElement(_,{component:"label",...R("label"),mod:{active:N===o.value&&!(m||o.disabled),disabled:m||o.disabled,"read-only":v},htmlFor:`${k}-${o.value}`,ref:T=>re(T,o.value),__vars:{"--sc-label-color":E!==void 0?me({color:E,theme:O,autoContrast:U}):void 0},key:`${o.value}-label`},w.jsx("span",{...R("innerLabel"),children:o.label})))),ie=q(e,o=>te(o));return ye(()=>{V(M())},[c.length]),c.length===0?null:w.jsxs(_,{...R("root"),variant:K,size:u,ref:ie,mod:[{"full-width":g,orientation:y,initialized:Q,"with-items-borders":X},Y],...J,role:"radiogroup","data-disabled":m,children:[typeof N=="string"&&w.jsx($,{target:x[N],parent:ee,component:"span",transitionDuration:"var(--sc-transition-duration)",...R("indicator")},Z),oe]})});j.classes=H;j.displayName="@mantine/core/SegmentedControl";const Te=({label:t,size:e,...n})=>{const s=r.useId();return w.jsx(ae,{id:s,size:e,label:t,children:w.jsx(j,{size:e,"aria-labelledby":s,...n})})};Te.__docgenInfo={description:"",methods:[],displayName:"RMLabelledSegmentedControl",props:{label:{required:!0,tsType:{name:"string"},description:""}}};export{Te as R};
