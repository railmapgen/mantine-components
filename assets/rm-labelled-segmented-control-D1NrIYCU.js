import{j as R}from"./jsx-runtime-D_zvdyIk.js";import{r as o}from"./index-DatCARk7.js";import{u as ie,R as ue}from"./rm-label-DbuIuSeh.js";import{q as le,s as ce,f as P,u as W,a as B,B as _,b as q,l as de,i as fe,j as me,d as pe,k as ve}from"./polymorphic-factory-BdIovDLJ.js";import{t as E}from"./to-int-PQE0s6ay.js";import{u as A}from"./use-merged-ref-j8iXyRLQ.js";import{r as M,u as be}from"./use-id-DSaWsqrk.js";function ge(t,e){if(t===e||Number.isNaN(t)&&Number.isNaN(e))return!0;if(!(t instanceof Object)||!(e instanceof Object))return!1;const n=Object.keys(t),{length:r}=n;if(r!==Object.keys(e).length)return!1;for(let a=0;a<r;a+=1){const i=n[a];if(!(i in e)||t[i]!==e[i]&&!(Number.isNaN(t[i])&&Number.isNaN(e[i])))return!1}return!0}function he(t,e){if(!t||!e)return!1;if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n+=1)if(!ge(t[n],e[n]))return!1;return!0}function ye(t){const e=o.useRef([]),n=o.useRef(0);return he(e.current,t)||(e.current=t,n.current+=1),[n.current]}function Re(t,e){o.useEffect(t,ye(e))}function we(t,e,n={autoInvoke:!1}){const r=o.useRef(null),a=o.useCallback((...d)=>{r.current||(r.current=window.setTimeout(()=>{t(d),r.current=null},e))},[e]),i=o.useCallback(()=>{r.current&&(window.clearTimeout(r.current),r.current=null)},[]);return o.useEffect(()=>(n.autoInvoke&&a(),i),[i,a]),{start:a,clear:i}}function Ce(t,e,n){const r=o.useRef(null),a=o.useRef(null);return o.useEffect(()=>{const i=typeof n=="function"?n():n;return(i||a.current)&&(r.current=new MutationObserver(t),r.current.observe(i||a.current,e)),()=>{var d;(d=r.current)==null||d.disconnect()}},[t,e]),a}function Se(){const[t,e]=o.useState(!1);return o.useEffect(()=>e(!0),[]),t}var Ne={};function Ee(){return typeof process<"u"&&Ne?"production":"development"}function D({color:t,theme:e,autoContrast:n}){return(typeof n=="boolean"?n:e.autoContrast)&&le({color:t||e.primaryColor,theme:e}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function Ae(t,e){return D({color:t.colors[t.primaryColor][ce(t,e)],theme:t,autoContrast:null})}function _e(t,e){if(!e||!t)return!1;let n=e.parentNode;for(;n!=null;){if(n===t)return!0;n=n.parentNode}return!1}function Ie({target:t,parent:e,ref:n,displayAfterTransitionEnd:r}){const a=o.useRef(-1),[i,d]=o.useState(!1),[w,C]=o.useState(typeof r=="boolean"?r:!1),c=()=>{if(!t||!e||!n.current)return;const u=t.getBoundingClientRect(),l=e.getBoundingClientRect(),m=window.getComputedStyle(t),p=window.getComputedStyle(e),S=E(m.borderTopWidth)+E(p.borderTopWidth),h=E(m.borderLeftWidth)+E(p.borderLeftWidth),b={top:u.top-l.top-S,left:u.left-l.left-h,width:u.width,height:u.height};n.current.style.transform=`translateY(${b.top}px) translateX(${b.left}px)`,n.current.style.width=`${b.width}px`,n.current.style.height=`${b.height}px`},f=()=>{window.clearTimeout(a.current),n.current&&(n.current.style.transitionDuration="0ms"),c(),a.current=window.setTimeout(()=>{n.current&&(n.current.style.transitionDuration="")},30)},g=o.useRef(null),v=o.useRef(null);return o.useEffect(()=>{if(c(),t)return g.current=new ResizeObserver(f),g.current.observe(t),e&&(v.current=new ResizeObserver(f),v.current.observe(e)),()=>{var u,l;(u=g.current)==null||u.disconnect(),(l=v.current)==null||l.disconnect()}},[e,t]),o.useEffect(()=>{if(e){const u=l=>{_e(l.target,e)&&(f(),C(!1))};return e.addEventListener("transitionend",u),()=>{e.removeEventListener("transitionend",u)}}},[e]),we(()=>{Ee()!=="test"&&d(!0)},20,{autoInvoke:!0}),Ce(u=>{u.forEach(l=>{l.type==="attributes"&&l.attributeName==="dir"&&f()})},{attributes:!0,attributeFilter:["dir"]},()=>document.documentElement),{initialized:i,hidden:w}}var H={root:"m_96b553a6"};const xe={},ke=q((t,{transitionDuration:e})=>({root:{"--transition-duration":typeof e=="number"?`${e}ms`:e}})),T=P((t,e)=>{const n=W("FloatingIndicator",xe,t),{classNames:r,className:a,style:i,styles:d,unstyled:w,vars:C,target:c,parent:f,transitionDuration:g,mod:v,displayAfterTransitionEnd:u,...l}=n,m=B({name:"FloatingIndicator",classes:H,props:n,className:a,style:i,classNames:r,styles:d,unstyled:w,vars:C,varsResolver:ke}),p=o.useRef(null),{initialized:S,hidden:h}=Ie({target:c,parent:f,ref:p,displayAfterTransitionEnd:u}),b=A(e,p);return!c||!f?null:R.jsx(_,{ref:b,mod:[{initialized:S,hidden:h},v],...m("root"),...l})});T.displayName="@mantine/core/FloatingIndicator";T.classes=H;var K={root:"m_cf365364",indicator:"m_9e182ccd",label:"m_1738fcb2",input:"m_1714d588",control:"m_69686b9b",innerLabel:"m_78882f40"};const Te={withItemsBorders:!0},$e=q((t,{radius:e,color:n,transitionDuration:r,size:a,transitionTimingFunction:i})=>({root:{"--sc-radius":e===void 0?void 0:ve(e),"--sc-color":n?pe(n,t):void 0,"--sc-shadow":n?void 0:"var(--mantine-shadow-xs)","--sc-transition-duration":r===void 0?void 0:`${r}ms`,"--sc-transition-timing-function":i,"--sc-padding":me(a,"sc-padding"),"--sc-font-size":fe(a)}})),$=P((t,e)=>{var z,F;const n=W("SegmentedControl",Te,t),{classNames:r,className:a,style:i,styles:d,unstyled:w,vars:C,data:c,value:f,defaultValue:g,onChange:v,size:u,name:l,disabled:m,readOnly:p,fullWidth:S,orientation:h,radius:b,color:j,transitionDuration:Le,transitionTimingFunction:Oe,variant:U,autoContrast:X,withItemsBorders:Y,mod:G,...J}=n,y=B({name:"SegmentedControl",props:n,classes:K,className:a,style:i,classNames:r,styles:d,unstyled:w,vars:C,varsResolver:$e}),L=de(),O=c.map(s=>typeof s=="string"?{label:s,value:s}:s),Q=Se(),[Z,V]=o.useState(M()),[ee,te]=o.useState(null),[I,ne]=o.useState({}),re=(s,k)=>{I[k]=s,ne(I)},[N,oe]=ie({value:f,defaultValue:g,finalValue:Array.isArray(c)?((z=O.find(s=>!s.disabled))==null?void 0:z.value)??((F=c[0])==null?void 0:F.value)??null:null,onChange:v}),x=be(l),se=O.map(s=>o.createElement(_,{...y("control"),mod:{active:N===s.value,orientation:h},key:s.value},o.createElement("input",{...y("input"),disabled:m||s.disabled,type:"radio",name:x,value:s.value,id:`${x}-${s.value}`,checked:N===s.value,onChange:()=>!p&&oe(s.value),"data-focus-ring":L.focusRing,key:`${s.value}-input`}),o.createElement(_,{component:"label",...y("label"),mod:{active:N===s.value&&!(m||s.disabled),disabled:m||s.disabled,"read-only":p},htmlFor:`${x}-${s.value}`,ref:k=>re(k,s.value),__vars:{"--sc-label-color":j!==void 0?D({color:j,theme:L,autoContrast:X}):void 0},key:`${s.value}-label`},R.jsx("span",{...y("innerLabel"),children:s.label})))),ae=A(e,s=>te(s));return Re(()=>{V(M())},[c.length]),c.length===0?null:R.jsxs(_,{...y("root"),variant:U,size:u,ref:ae,mod:[{"full-width":S,orientation:h,initialized:Q,"with-items-borders":Y},G],...J,role:"radiogroup","data-disabled":m,children:[typeof N=="string"&&R.jsx(T,{target:I[N],parent:ee,component:"span",transitionDuration:"var(--sc-transition-duration)",...y("indicator")},Z),se]})});$.classes=K;$.displayName="@mantine/core/SegmentedControl";const je=({label:t,size:e,...n})=>{const r=o.useId();return R.jsx(ue,{id:r,size:e,label:t,children:R.jsx($,{size:e,"aria-labelledby":r,...n})})};je.__docgenInfo={description:"",methods:[],displayName:"RMLabelledSegmentedControl",props:{label:{required:!0,tsType:{name:"string"},description:""}}};export{je as R,Ae as g};
